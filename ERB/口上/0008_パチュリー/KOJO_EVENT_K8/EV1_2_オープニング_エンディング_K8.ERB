;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	파츄리구상 オープニング、エンディング구상ファイル
;
;	オープニング, エンディング이벤트구상のファイル
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;EV1, オープニング구상
;========================================================================
;・구상主(TARGET)が主人である場合にのみ表示される
;・戻り値を2と했다場合はOP後の本体側のタイトルロゴは表示されない
;・노멀모드以外の場合、죠교대상がNO:MASTER == 0(いわるゆる당신)でない可能性あり
;-------------------------------------------------
;関連変数…
;FLAG:모드(0=통상/1=샌드박스/9=엑스트라)
;-------------------------------------------------
@KOJO_EVENT_K8_1(ARG)
;-------------------------------------------------
;CNAMEやCSTR:소환가능조수、その他各種代入に向いた箇所の一つです
;コマンド봉인も個別に可能ですが、本体側の意向として(一応)隠し機能に했다いという事情もあり
;判る人はどうぞ、という事で解説はしない方向で
;-------------------------------------------------
;구상を表示했다上で、終端をRETURN 0とする事で本体側の汎用OPに渡す事も可能だったりします
;汎用OPに飛ば했다際はタイトルロゴが表示されます
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;노멀모드時
;RESULT値(1,OPを表示했다後本体のタイトルロゴを表示/2, 本体のタイトルロゴを表示しない)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(100) && !FLAG:모드
	;MASTERの呼び名代入
	CSTR:(TARGET):호칭목록 = 당신_貴方/레밀리아_レミィ/플랑드르_플랑/소악마_소악마
	;他の箇所(例えばEVENT11)等で条件式を組んでINPUTを絡ませて代入、という事も可能

	;-------------------------------------------------
	;各種봉인処理
	;-------------------------------------------------
	;회화は制御しにくいので一部除いて봉인
	CFLAG:1000 = 100 ;지금 기분을 묻다
	CFLAG:1001 = 100 ;자신에게의 마음을 묻다
	CFLAG:1002 = 100 ;성에 관한 이야기를 하다
	CFLAG:1003 = 100 ;상냥하게 위로한다
	CFLAG:1004 = 100 ;엄하게 위협한다
	CFLAG:1008 = 100 ;고함치다
	CFLAG:1009 = 100 ;기분나쁘게 웃다

	;항문펠라は主人がやることではない？
	;파이즈리や스마타は快感が労力に見合わないので봉인
	CFLAG:1014 = 100 ;항문펠라
	CFLAG:1016 = 100 ;성기마찰한다
	CFLAG:1017 = 100 ;파이즈리

	;アイテムを使わない수치系は자위以外봉인
	CFLAG:1041 = 100 ;비패개장
	CFLAG:1042 = 100 ;자위과시
	CFLAG:1045 = 100 ;방뇨

	;손は出させない방침
	;こっちも파이즈리스마타봉인
	CFLAG:1050 = 100 ;손으로 애무를 강요
	CFLAG:1052 = 100 ;파이즈리
	CFLAG:1053 = 100 ;스마타
	CFLAG:1057 = 100 ;가슴애무강제

	;매도は회화系と同じく봉인
	CFLAG:1066 = 100 ;매도

	;アイテムを使わない이상系は봉인
	CFLAG:1070 = 100 ;피스트퍽
	CFLAG:1071 = 100 ;애널피스트
	CFLAG:1072 = 100 ;양쪽피스트
	CFLAG:1073 = 100 ;방치플레이

	;「自分で動きなさい」みたいなのも考えるけど
	;노예は下においておくはず
	;파츄리と정상위するなら恋人として했다い
	CFLAG:1095 = 100 ;정상위시킨다
	CFLAG:1096 = 100 ;후배위시킨다
	CFLAG:1099 = 100 ;항문섹스시킨다

	;デフォルトのストーリーを踏襲
	;但し、ストーリーの解釈が合っているかどうか微妙
	;詰める필요大いにあり
	$OPENING_LOOP
	CALL WAIT_3
	PRINTFORMW 「간신히 눈을 뜨고」
	PRINTL 
	CALL CHARA_CUTIN(CSTR:두명, CSTR:등장명, CSTR:로마자)
	PRINTL 
	PRINTFORMDW 어슴푸레한 방에서 %CALLNAME:MASTER%(을)를 맞이한 것은, 응달 수상한 마법사였다.
	PRINTL 
	PRINTFORML 「여기는 조교실」
	PRINTFORMW 「당신은 나의 노예」
	PRINTL 
	PRINTFORML 「오늘부터 당신에게 성적 쾌감과 절정을 주기 때문에」
	PRINTFORMW 「그 몸으로부터 정력을 토해내세요」
	PRINTL 
	PRINTFORMW 「그것은 나에게 있어서는 현실에도 환상에도 비바구니 귀중한 마력이야」
	PRINTL 
	PRINTFORMW 「용도는 가르쳐 주지 않는다」
	PRINTDL 
	CALL FPRINTL("[0]눈앞의 이상한 마법사로부터 도망친다", 0xFF0000)
	PRINTDL [1]싫은 예감이 하므로 탈출을 단념한다
	CALL INPUTINT(0, 1)
	IF RESULT == 0
		PRINTFORMDW 공포에 몰아져 방의 출구에 달리기 시작한 순간,
		PRINTFORMDW %CALLNAME:MASTER%의 발밑으로부터 촉수가 미끄러지기 시작해, 금새 사지를 걸고 취한다.
		PRINTFORMDW 촉수에 감추어 붐비어져 간다%CALLNAME:MASTER%(을)를 거들떠보지도 않고
		PRINTFORMDW 파츄리는 하지메일을 끝낸 얼굴로 방에서 나와 갔다…
		PRINTFORMDW GAME OVER
		CALL BGM_CUTIN("플레이ヤーズスコア")
		PRINTDL [0]재도전
		PRINTDL [1]종료
		CALL INPUTINT(0, 1)
		IF RESULT == 0
			CLEARLINE LINECOUNT
			GOTO OPENING_LOOP
		ELSE
			QUIT
		ENDIF
	ENDIF
	PRINTFORML 「현명한 판단에 감사해요」
	PRINTFORMW 「이 공간에서는 당신의 「능력」은 통용되지 않기 때문에 힘관계는 명백해요」
	CALL BGM_CUTIN(CSTR:곡１)
	PRINTL 
	PRINTFORMW 「입으로 설명하는 것보다 몸에 타이르는 (분)편이 빠르다――」
	PRINTL 

	REDRAW 0
	SETFONT "ＭＳ 明朝"
	FONTSTYLE 3

;OriginalString : (40, 17, "eratohoЯeverse――","　","　","　　　　　　――죠교를 시작한다")
	CALL FULLCUTIN(40, 17, "eratohoЯeverse――"," "," ","      ――죠교를 시작한다")
	
	PRINTFORMW 
	RETURN 2
ENDIF

;将来的に他の모드が追加당했다場合はFLAG:모드を決めうち했다方が良いかも知れません
;━━━━━━━━━━━━━━━━━━━━━━━━
;노멀모드以外の場合
;RESULT値(1,OPを表示했다後本体のタイトルロゴを表示/2, 本体のタイトルロゴを表示しない)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0) && FLAG:모드 > 0
	PRINTFORMW 
	RETURN 1
ENDIF

;========================================================================
;EV2, エンディング이벤트구상
;========================================================================
;・開始30日以降、日時の更新時にシステム側からEVENT2が呼び出される
;・戻り値1以上が返ると本体側でFLAG:END달성が立ち、以降はシステム側から呼び出される事はない
;・以前は戻り値1以外はFLAG:END달성が立たない仕様で했다が、現在はRESULT > 0なら플래그が立つようになっています
;・필요に応じてFIRSTEVENTを使っておくと万が一の保険にはなりますし、仕様変更にも強いです
;-------------------------------------------------
;　최단で呼び出されるのが30日というだけなので、その他の部分では구상側で任意に条件設定が可能です
;　IF 구상記入チェック() &&で条件で区切るなり、IF 구상記入チェック()で大分岐に했다上で、小分岐内で個別に条件設定も出来ます
;　階層이벤트形式にして表示시켰다上でRETURN 0。最後にRETURN 1で。なんて事も可能ではあったり
;　可能性は無限にあるので、条件設定は各구상作者に委ねたいと思います
;-------------------------------------------------
@KOJO_EVENT_K8_2(ARG)
;-------------------------------------------------
;将来的にはCFLAG:의존도による本体側のED分岐なんていう代物の構想もあったり
;その際には、本体側の処理を呼ぶ/殺すも구상側で任意に設定が可能という方向性
;とはいえ、いつになるのか、実現するかも定かではないので、現状は各自頑張って下さいということで
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;エンディング
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0)
	PRINTFORMW 
	;戻り値は1で決めうちしておきます
	RETURN 1
ENDIF
