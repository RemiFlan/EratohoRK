;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	코이시구상 죠교終了이벤트구상ファイル
;
;	죠교終了이벤트구상をまとめたファイル
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;EV13, 죠교終了구상
;========================================================================
;・@EVENTCOMENDから呼び出される
;・구상主が죠교終了する直前に表示
;・ARG:1, ARG:2の場合は地の文表示後にPRINTLで空行。その後に구상を表示
;・ARG:0の場合は固有の地の文なし。구상表示の前にPRINTLで空行が入る
;・RESULT 0以上を返すと구상表示後にPRINTLで空行が入る
;-------------------------------------------------
;関連変数…
;FLAG:일상제어	죠교終了時状況(1=통상/2=精力0/3=일회휴게/4=실신했다)
;-------------------------------------------------
@KOJO_EVENT_K64_13(ARG)
;-------------------------------------------------
;引数内訳…
;ARG=(0.普通に終了/1.죠교대상が疲れている/2.죠교대상が실신했다)
;-------------------------------------------------

;────────────────────────────────────
;ARG:1, ARG:2, 疲労・실신による죠교終了 FIRSTEVENT(0)～
;────────────────────────────────────
;・죠교대상소모도に応じて疲労/실신に分かれる
;・呼び出しタイミングは地の文の表示→PRINTL→구상の表示
;・EVENT201, 介抱(일상이벤트)の箇所を書く場合は、上손く連携できるようにすると良いでしょう
;------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;죠교대상が疲れている
;━━━━━━━━━━━━━━━━━━━━━━━━
;・このケースは호의分岐内で処理してもいい気がする
;・現状ではそもそも分けて処理する필요性が薄いと思うけど
;------------------------------------------------
IF 구상記入チェック(0) && ARG == 1
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;대만족보너스を得ている
	;=================================================
	IF 구상記入チェック(0) && TFLAG:금회대만족
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;상사상애
	;=================================================
	IF 구상記入チェック(0) && AFFECTION("상사상애")
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;죠교대상が실신했다
;━━━━━━━━━━━━━━━━━━━━━━━━
;・ここでやった方が楽できる
;・細かくやりたい人だけ、初回以外を호의分岐内に回すとか…
;------------------------------------------------
IF 구상記入チェック() && ARG == 2
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック() && FIRSTEVENT(1)
		PRINTFORMW 「언제까지 자？ 빨리 일어나」
		PRINTFORMW 「………어？」
		RETURN 1
	ENDIF
	
	;=================================================
	;조수が주인님
	;=================================================
	IF 구상記入チェック() && ASSISTALENT(131) >= 0
		PRINTFORMW 「＊남편＊」
		PRINTFORMW 「미안해요%K64_CNAME(FLAG:2)%…너무 조금 본궤도에 올라 버렸다♪」
		RETURN 1
	ENDIF
	
	;=================================================
	;대만족보너스を得ている
	;=================================================
	IF 구상記入チェック(0) && TFLAG:금회대만족
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;상사상애
	;=================================================
	IF 구상記入チェック(0) && AFFECTION("상사상애")
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック()
		SELECTCASE RAND:3
			CASE 0
				PRINTFORMW 「, 또 해 치웠다…」
				PRINTFORMW 「이렇게 상냥하게 해…%K64_CNAME()%라고 너무 약하고…」
				PRINTFORMDW 푸념개개도, 진하고의 음색은 어딘가 약한 것이었다
			CASE 1
				PRINTFORMW 「어…！？ 좀,%K64_CNAME()%(은)는 정말」
				PRINTFORMW 「 아직 자는 시간도 아니면서…」
			CASEELSE
				PRINTFORMW 「아, 또 움직이지 못하게 되어 버렸다…」
				PRINTFORMW 「%K64_CNAME()%라는 불량품인가？」
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;ARG:0 普通に終了 FIRSTEVENT(10)～
;────────────────────────────────────
;・통상の죠교終了時の구상
;・地の文なし。PRINTLによる空行の後に구상表示
;・枠毎に이벤트번호を振ってありますが、任意に設定する事は可能です
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;대만족보너스を得ている
;━━━━━━━━━━━━━━━━━━━━━━━━
;・これも호의分岐内で処理できるけど実際面倒
;・손を抜く場合はここで処理했다方がいいんじゃないかな
;------------------------------------------------
IF 구상記入チェック() && TFLAG:금회대만족
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック() && FIRSTEVENT(10)
;OriginalString : 「わーい♪ 楽しーい%K64_SYMBOL("BHeartW")%」")
		CALL HTMLPRINTW(@"「와-이♪ 즐겁다%K64_SYMBOL("BHeartW")%」")
		RETURN 1
	ENDIF
	
	;=================================================
	;죠교대상の精力0
	;=================================================
	IF 구상記入チェック(0) && FLAG:일상제어 == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;상사상애
	;=================================================
	IF 구상記入チェック(0) && AFFECTION("상사상애")
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック()
		PRINTFORMW 「이 상태로 가면, 뭐든지 명령 대로에 움직여 줄까？」
		RETURN 1
	ENDIF
ENDIF

;*************************************************
;以下、호감도による派生
;*************************************************
;・우선順位設定に関してはEV11_죠교開始이벤트_K64.ERBを参照のこと
;------------------------------------------------

;━━━━━━━━━━━━━━━━━━━━━━━━
;INFINITE (M호의10000以上/호의10000以上) FIRSTEVENT(120)～
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0) && AFFECTION("INFINITE")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(120)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;EVENT11あたりで任意のKFLAGを立てて条件にしてやると話の辻褄は合わせやすいです
;━━━━━━━━━━━━━━━━━━━━━━━━
;상사상애 (M호의3000以上/호의3000以上) FIRSTEVENT(20)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・互いに好き合っている
;-------------------------------------------------
IF 구상記入チェック(0) && AFFECTION("상사상애")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(20)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;傀儡 (M호의2500以上) FIRSTEVENT(130)～
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0) && AFFECTION("傀儡")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(130)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;호감도の伸び的に익애の後になると思われます
;━━━━━━━━━━━━━━━━━━━━━━━━
;죠교完了 (M호의2000以上) FIRSTEVENT(30)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・죠교대상が구상主にもうメロメロ
;-------------------------------------------------
IF 구상記入チェック(0) && AFFECTION("죠교完了")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(30)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;盲愛 (호의3000以上) FIRSTEVENT(140)～
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0) && AFFECTION("盲愛")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(140)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;익애 (호의2000以上) FIRSTEVENT(40)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・죠교자の方が죠교대상にはまってしまい、深かったり倒錯했다愛を注いでいる
;-------------------------------------------------
IF 구상記入チェック(0) && AFFECTION("익애")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(40)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;죠교済み (M호의1000以上) FIRSTEVENT(50)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・죠교대상が구상主に죠교されるのを幸せに感じている
;-------------------------------------------------
IF 구상記入チェック(0) && AFFECTION("죠교済み")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(50)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;目覚め (M호의500以上) FIRSTEVENT(90)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・죠교されるのもむしろ好きになってきたかも知れない…
;-------------------------------------------------
IF 구상記入チェック(0) && AFFECTION("目覚め")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(90)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;天敵 (M호의-1000未満) FIRSTEVENT(150)～
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0) && AFFECTION("天敵")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(150)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;공포 (M호의200未満/트라우마Lv5以上) FIRSTEVENT(70)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・心に傷を作られ、주인님の姿を見るだけで怯えてしまう
;・트라우마の種は「%ACTSTR(CFLAG:MASTER:8)%」で表示できる
;　例）PRINTFORMW 「もう%ACTSTR(CFLAG:MASTER:8)%は嫌ですって？」
;-------------------------------------------------
IF 구상記入チェック(0) && AFFECTION("공포")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(70)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;不倶戴天 (M호의-500未満) FIRSTEVENT(160)～
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0) && AFFECTION("不倶戴天")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(160)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;반항 (M호의0以下/반항각인Lv3以上) FIRSTEVENT(80)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・心を開かない노예に苛つく주인님
;-------------------------------------------------
IF 구상記入チェック(0) && AFFECTION("반항")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(80)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;暴君 (M호의-100未満/호의1000以上) FIRSTEVENT(170)～
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0) && AFFECTION("暴君")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(170)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;嫌悪 (M호의-100未満) FIRSTEVENT(60)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・죠교자に対し嫌悪感を抱いている
;-------------------------------------------------
IF 구상記入チェック(0) && AFFECTION("嫌悪")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(60)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;眷愛 (호의1000以上) FIRSTEVENT(180)～
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0) && AFFECTION("권애")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(180)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;順応 (M호의100以上/호의100以上) FIRSTEVENT(100)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・丁寧に죠교を進められて、思ったより嫌じゃないかも…
;-------------------------------------------------
IF 구상記入チェック(0) && AFFECTION("順応")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(100)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;흥미 (호의500以上) FIRSTEVENT(190)～
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 구상記入チェック(0) && AFFECTION("흥미")
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(190)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;序盤 (条件なし) FIRSTEVENT(110)～
;━━━━━━━━━━━━━━━━━━━━━━━━
;・ここまでの条件にヒットしなかった場合
;-------------------------------------------------
IF 구상記入チェック(0)
	;=================================================
	;처음
	;=================================================
	IF 구상記入チェック(0) && FIRSTEVENT(110)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;기타・조건없음
	;=================================================
	IF 구상記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
