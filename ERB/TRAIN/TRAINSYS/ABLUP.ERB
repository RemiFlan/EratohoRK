<<<<<<< HEAD
・ｿ
;窶ｻ・・川梵縺ｮABLUP蜃ｦ逅・・蟄伜惠縺励↑縺・ヱ繝ｩ繝｡繝ｼ繧ｿ縺後≠繧九◆繧√→縺薙ｍ縺ｩ縺薙ｍ螯･蜊斐＠縺ｦ縺・ｋ

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;閭ｽ蜉帑ｸ頑・蜃ｦ逅・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;-------------------------------------------------
;・懍｢・BL
;-------------------------------------------------
@ABLUP_0M
#DIM ・ｴ・ｵ髮｣譏灘ｺｦ
#DIM ・ｴ・ｵEXP
#DIM ・ｴ・ｵ・ｴ・・#DIM ・ｴ・ｵ・ｬ・ｱ
#DIM ・ｵ尞ｬ髮｣譏灘ｺｦ
#DIM ・ｵ尞ｬEXP
#DIM ・ｵ尞ｬ・ｴ・・#DIM ・ｵ尞ｬ・ｬ・ｱ

;・懍｢・・ｵｴ・ｵ繝ｫ繝ｼ繝・;・ｴ・ｵ髮｣譏灘ｺｦ險ｭ螳・・ｴ・ｵ髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・懍｢・ * (100 - TALENT:MASTER:嵓・攵・ｴ・罹ぐ・・* 20 + TALENT:MASTER:嵓・攵・ｴ・罹・・・* 20)
;・ｴ・ｵEXP・ｨ・・・ｴ・ｵEXP = EXP:MASTER:・ｴ・ｵ・ｽ嵭・;・ｴ・ｵ・・攤縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (MARK:・ｴ・ｵ・・攤 >= 10) ? 0 # (ABL:MASTER:・懍｢・* 2 - 1 - MARK:・ｴ・ｵ・・攤)
・ｴ・ｵ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)
;・ｴ・ｵ・ｬ・ｱ蛻､螳・LOCAL = CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ・・・ｴ・ｵ・ｬ・ｱ = (LOCAL / 2 + ・ｴ・ｵEXP * 20 / ・ｴ・ｵ・ｴ・・ > (・ｴ・ｵ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(0))

;・ｵ尞ｬ繝ｫ繝ｼ繝・;・ｵ尞ｬ髮｣譏灘ｺｦ險ｭ螳・・ｵ尞ｬ髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・懍｢・ * (100 - TALENT:MASTER:・・氈・ｴ * 20 + TALENT:MASTER:・ｳ・・* 20)
;・ｵ尞ｬEXP・ｨ・・・ｵ尞ｬEXP = EXP:MASTER:・ｵ尞ｬ・ｽ嵭・;孖ｸ・ｼ・ｰ・医′荳鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (MARK:孖ｸ・ｼ・ｰ・・>= 10) ? 0 # (ABL:MASTER:・懍｢・* 2 - 1 - MARK:孖ｸ・ｼ・ｰ・・
・ｵ尞ｬ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)
;・ｵ尞ｬ・ｬ・ｱ蛻､螳・・ｵ尞ｬ・ｬ・ｱ = (CUP:MASTER:・ｵ尞ｬ + ・ｵ尞ｬEXP * 20 / ・ｵ尞ｬ・ｴ・・ > (・ｵ尞ｬ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(0))

;・ｴ・ｵ邉ｻ繝ｻ・ｵ尞ｬ邉ｻ縺ｧ譚｡莉ｶ繧呈ｺ縺溘○縺ｰABLUP
SIF ・ｴ・ｵ・ｬ・ｱ || ・ｵ尞ｬ・ｬ・ｱ
	CALL ABLUP_RISE(MASTER, 0)


;-------------------------------------------------
;・簿ｧ戡BL
;-------------------------------------------------
@ABLUP_1M
CALL ABLUP_1(MASTER)
@ABLUP_1T
CALL ABLUP_1(TARGET)

@ABLUP_1(ARG)
#DIM ・簿ｧ晞屮譏灘ｺｦ
#DIM ・簿ｧ戲XP
#DIM ・簿ｧ晤ｳｴ・・
;・簿ｧ晞屮譏灘ｺｦ險ｭ螳・・簿ｧ晞屮譏灘ｺｦ = POWER(2, ABL:ARG:・簿ｧ・ * (100 - TALENT:ARG:・語ｰ川乱・肥ｧ・* 20 + TALENT:ARG:・語ｰ川揆・・・* 20)
;・簿ｧ戲XP・ｨ・・鬮伜ｺｦ縺ｪEXP縺ｻ縺ｩ・ｴ・募､縺悟､ｧ縺阪＞)
・簿ｧ戲XP = EXP:ARG:・｣・ｽ嵭・+ EXP:ARG:・｢・ｽ嵭・+ EXP:ARG:・ｱ・・・・簿ｧ戲XP += EXP:ARG:・ｶ・ｽ嵭・* 2 + EXP:ARG:・｡・ｽ嵭・* 2 + EXP:ARG:・溢母ｲｽ嵭・* 2 + EXP:ARG:・ｬ・母ｲｽ嵭・* 2
・簿ｧ戲XP += EXP:ARG:・川怱・ｽ嵭・* 3 + EXP:ARG:・・悛・ｽ嵭・* 4 + EXP:ARG:・ｴ・・ｲｽ嵭・* 4 + EXP:ARG:・ｶ嶹菩棗・ｽ嵭・* 5 + EXP:ARG:・｡嶹菩棗・ｽ嵭・* 5
;・・尖劇・・IF ARG == MASTER
	;・誤攷・・攤縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
	LOCAL = (MARK:・誤攷・・攤 >= 10) ? 0 # (ABL:ARG:・簿ｧ・* 2 - 1 - MARK:・誤攷・・攤)
;・・川梵(螯･蜊・
ELSE
	;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
	LOCAL = (CFLAG:MASTER:・・尖壱ｲｨ >= 10) ? 0 # (ABL:ARG:・簿ｧ・* 2 - 1 - CFLAG:MASTER:・・尖壱ｲｨ)
ENDIF
・簿ｧ晤ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・簿ｧ晤峡・ｱ蛻､螳・;・・尖劇・・IF ARG == MASTER
	SIF (CUP:ARG:・菩・+ ・簿ｧ戲XP * 10 / ・簿ｧ晤ｳｴ・・ > (・簿ｧ晞屮譏灘ｺｦ * ABLUP_DIFFICULTY(1))
		CALL ABLUP_RISE(MASTER, 1)
;・・川梵(螯･蜊・
ELSE
	SIF (CUP:ARG:・鯉ｼ｣ + CUP:ARG:・鯉ｼｶ + CUP:ARG:・鯉ｼ｡ + CUP:ARG:・鯉ｼ｢ + ・簿ｧ戲XP * 10 / ・簿ｧ晤ｳｴ・・ > (・簿ｧ晞屮譏灘ｺｦ * ABLUP_DIFFICULTY(1))
		CALL ABLUP_RISE(TARGET, 1)
ENDIF


;-------------------------------------------------
;・ｰ・植BL
;-------------------------------------------------
@ABLUP_2M
CALL ABLUP_2(MASTER)
@ABLUP_2T
CALL ABLUP_2(TARGET)

@ABLUP_2(ARG)
#DIM ・ｰ・宣屮譏灘ｺｦ
#DIM ・ｰ・職XP
#DIM ・ｰ・尖ｳｴ・・#DIM 逶ｸ・・
;・餓ぎ逶ｸ・舌ｒ莉｣蜈･
IF ARG == MASTER
	逶ｸ・・= TARGET
ELSE
	逶ｸ・・= MASTER
ENDIF

;・ｰ・宣屮譏灘ｺｦ險ｭ螳・・ｰ・宣屮譏灘ｺｦ = POWER(2, ABL:ARG:・ｰ・・ * (100 - TALENT:ARG:・ｵ・晤ｹ・・* 20 + TALENT:ARG:・ｵ・晤叶・ｼ * 20)
;・ｰ・職XP・ｨ・・・ｰ・職XP = EXP:ARG:・ｱ・・・+ EXP:ARG:・ｬ・語ｲｽ嵭・* 2 + EXP:ARG:・們搆・ｽ嵭・* 2 + EXP:ARG:・ｱ・専ｲｽ嵭・* 2 + EXP:ARG:・溢菩亨墲ｨ・ｽ嵭・* 4
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:ARG:・・尖壱ｲｨ >= 10) ? 0 # (ABL:ARG:・ｰ・・* 2 - 1 - CFLAG:ARG:・・尖壱ｲｨ)
・ｰ・尖ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・ｰ・尖峡・ｱ蛻､螳・LOCAL = CUP:逶ｸ・・・鯉ｼ｣ + CUP:逶ｸ・・・鯉ｼｶ + CUP:逶ｸ・・・鯉ｼ｡ + CUP:逶ｸ・・・鯉ｼ｢
SIF (LOCAL / 3 + ・ｰ・職XP * 10 / ・ｰ・尖ｳｴ・・ > (・ｰ・宣屮譏灘ｺｦ * ABLUP_DIFFICULTY(2))
	CALL ABLUP_RISE(ARG, 2)


;-------------------------------------------------
;・ｸ・専ｰ、BL
;-------------------------------------------------
@ABLUP_3M
CALL ABLUP_SENSITIVITY(MASTER, 3)
@ABLUP_4M
CALL ABLUP_SENSITIVITY(MASTER, 4)
@ABLUP_5M
CALL ABLUP_SENSITIVITY(MASTER, 5)
@ABLUP_6M
CALL ABLUP_SENSITIVITY(MASTER, 6)
@ABLUP_3T
CALL ABLUP_SENSITIVITY(TARGET, 3)
@ABLUP_4T
CALL ABLUP_SENSITIVITY(TARGET, 4)
@ABLUP_5T
CALL ABLUP_SENSITIVITY(TARGET, 5)
@ABLUP_6T
CALL ABLUP_SENSITIVITY(TARGET, 6)

@ABLUP_SENSITIVITY(・・・ ARG)
#DIM 驛ｨ菴・#DIM ・専ｰ・屮譏灘ｺｦ
#DIM ・専ｰ・XP
#DIM ・専ｰ・ｳｴ・・#DIM ・・・
驛ｨ菴・= ARG - 3
SPLIT "・｣/・ｶ/・｡/・｢", "/", LOCALS

;・専ｰ・屮譏灘ｺｦ險ｭ螳・・専ｰ・屮譏灘ｺｦ = POWER(2, ABL:・・・@"%LOCALS:驛ｨ菴・・専ｰ・) * (100 - TALENT:・・・@"%LOCALS:驛ｨ菴・・ｼ・・ * 20 + TALENT:・・・@"%LOCALS:驛ｨ菴・・緋ｰ・ * 20)
;・専ｰ・XP・ｨ・・・専ｰ・XP = EXP:・・・@"%LOCALS:驛ｨ菴・・ｽ嵭・ * 2 + EXP:・・・・溢母ｲｽ嵭・SIF LOCALS:驛ｨ菴・== "・｣"
	・専ｰ・XP += EXP:・・・・溢母ｲｽ嵭・SIF LOCALS:驛ｨ菴・== "・ｶ"
	・専ｰ・XP += EXP:・・・・ｶ嶹菩棗・ｽ嵭・* 4 + EXP:・・・・ｱ・専ｲｽ嵭・* 2
SIF LOCALS:驛ｨ菴・== "・｡"
	・専ｰ・XP += EXP:・・・・｡嶹菩棗・ｽ嵭・* 4 + EXP:・・・・ｱ・専ｲｽ嵭・+ EXP:・・・・ｴ・・ｲｽ嵭・SIF LOCALS:驛ｨ菴・== "・｢"
	・専ｰ・XP += EXP:・・・・・悛・ｽ嵭・* 3
;・・尖劇・・IF ARG == MASTER
	;・誤攷・・攤縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
	LOCAL = (MARK:・誤攷・・攤 >= 10) ? 0 # (ABL:・・・@"%LOCALS:驛ｨ菴・・専ｰ・ * 2 - 1 - MARK:・誤攷・・攤)
;・・川梵(螯･蜊・
ELSE
	;・簿ｧ戡BL縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
	LOCAL = (ABL:・・・・簿ｧ・>= 10) ? 0 # (ABL:・・・@"%LOCALS:驛ｨ菴・・専ｰ・ * 2 - 1 - ABL:・・・・簿ｧ・
ENDIF
・専ｰ・ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・専ｰ・峡・ｱ蛻､螳・SIF (CUP:・・・@"・・LOCALS:驛ｨ菴・" + ・専ｰ・XP * 10 / ・専ｰ・ｳｴ・・ > (・専ｰ・屮譏灘ｺｦ * ABLUP_DIFFICULTY(ARG) * 4)
	CALL ABLUP_RISE(・・・ ARG)


;-------------------------------------------------
;・餓ぎ・菩侠ABL
;-------------------------------------------------
@ABLUP_7M
CALL ABLUP_7(MASTER)
@ABLUP_7T
CALL ABLUP_7(TARGET)

@ABLUP_7(ARG)
#DIM ・餓ぎ・菩侠髮｣譏灘ｺｦ
#DIM ・餓ぎ・菩侠EXP
#DIM ・餓ぎ・菩侠・ｴ・・
;・餓ぎ・菩侠髮｣譏灘ｺｦ險ｭ螳・・餓ぎ・菩侠髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・餓ぎ・菩侠) * (100 - TALENT:ARG:嵭護侠・・* 20 + TALENT:ARG:・俯徐・・* 20)
;・餓ぎ・菩侠EXP・ｨ・・・餓ぎ・菩侠EXP = EXP:ARG:・ｬ・語ｲｽ嵭・+ EXP:ARG:・們搆・ｽ嵭・+ EXP:ARG:・餓ぎ・誤攷・ｽ嵭・* 4
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:ARG:・・尖壱ｲｨ >= 10) ? 0 # (ABL:ARG:・餓ぎ・菩侠 * 2 - 1 - CFLAG:ARG:・・尖壱ｲｨ)
・餓ぎ・菩侠・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・餓ぎ・菩侠・ｬ・ｱ蛻､螳・;・・尖劇・・IF ARG == MASTER
	SIF (CUP:ARG:・ｵ・・+ ・餓ぎ・菩侠EXP * 10 / ・餓ぎ・菩侠・ｴ・・ > (・餓ぎ・菩侠髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(7))
		CALL ABLUP_RISE(MASTER, 7)
;・・川梵(螯･蜊・
ELSE
	SIF (SOURCE:MASTER:・ｬ・ｱ / 3 + ・餓ぎ・菩侠EXP * 10 / ・餓ぎ・菩侠・ｴ・・ > (・餓ぎ・菩侠髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(7))
		CALL ABLUP_RISE(TARGET, 7)
ENDIF


;-------------------------------------------------
;・ｸ・懍ｦ戡BL
;-------------------------------------------------
@ABLUP_8M
CALL ABLUP_8(MASTER)
@ABLUP_8T
;TARGET縺ｫ縺ｯ・ｸ・懍ｦ戡BL荳頑・縺後↑縺・螯･蜊・

@ABLUP_8(ARG)
#DIM ・ｸ・懍ｦ晞屮譏灘ｺｦ
#DIM ・ｸ・懍ｦ戲XP

;・ｸ・懍ｦ晞屮譏灘ｺｦ險ｭ螳・・ｸ・懍ｦ晞屮譏灘ｺｦ = POWER(2, ABL:ARG:・ｸ・懍ｦ・ * (100 - TALENT:ARG:﨑ｴ・ｩ * 20 + TALENT:ARG:・ｵ・・* 20)
;・ｸ・懍ｦ戲XP・ｨ・・・ｸ・懍ｦ戲XP = EXP:ARG:・ｸ・懋ｲｽ嵭・* 3 + EXP:ARG:・溢母ｲｽ嵭・
;・ｸ・懍ｦ晤峡・ｱ蛻､螳・SIF (CUP:ARG:・們・+ ・ｸ・懍ｦ戲XP * 10) > (・ｸ・懍ｦ晞屮譏灘ｺｦ * ABLUP_DIFFICULTY(8))
	CALL ABLUP_RISE(ARG, 8)


;-------------------------------------------------
;・溢ｦ壱⊂ABL
;-------------------------------------------------
@ABLUP_9M
CALL ABLUP_9(MASTER)
@ABLUP_9T
CALL ABLUP_9(TARGET)

@ABLUP_9(ARG)
#DIM ・溢ｦ壱⊂髮｣譏灘ｺｦ
#DIM ・溢ｦ壱⊂EXP

;・溢ｦ壱⊂髮｣譏灘ｺｦ險ｭ螳・・溢ｦ壱⊂髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・溢ｦ壱⊂) * (100 - TALENT:ARG:・肥擽 * 20)
;・溢ｦ壱⊂EXP・ｨ・・・溢ｦ壱⊂EXP = EXP:ARG:・溢ｦ一ｲｽ嵭・
;・溢ｦ壱⊂・ｬ・ｱ蛻､螳・SIF (SOURCE:ARG:・・・+ SOURCE:ARG:・ｴ・ｽ + ・溢ｦ壱⊂EXP * 20) > (・溢ｦ壱⊂髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(9))
	CALL ABLUP_RISE(ARG, 9)


;-------------------------------------------------
;・｢・ｬ・ｼABL
;-------------------------------------------------
@ABLUP_10M
CALL ABLUP_10(MASTER)
@ABLUP_10T
CALL ABLUP_10(TARGET)

@ABLUP_10(ARG)
#DIM ・｢・ｬ・ｼ髮｣譏灘ｺｦ
#DIM ・｢・ｬ・ｼEXP

;・｢・ｬ・ｼ髮｣譏灘ｺｦ險ｭ螳・・｢・ｬ・ｼ髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・｢・ｬ・ｼ) * (100 - TALENT:ARG:・肥擽 * 20)
;・｢・ｬ・ｼEXP・ｨ・・・｢・ｬ・ｼEXP = EXP:ARG:・｢・ｬ・ｽ嵭・
;・｢・ｬ・ｼ・ｬ・ｱ蛻､螳・SIF (SOURCE:ARG:・・・+ SOURCE:ARG:・ｴ・ｽ + ・｢・ｬ・ｼEXP * 20) > (・｢・ｬ・ｼ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(10))
	CALL ABLUP_RISE(ARG, 10)


;-------------------------------------------------
;・溢｡ｰ・ｼABL
;-------------------------------------------------
@ABLUP_11M
#DIM ・溢｡ｰ・ｼ髮｣譏灘ｺｦ
#DIM ・溢｡ｰ・ｼEXP

;・溢｡ｰ・ｼ髮｣譏灘ｺｦ險ｭ螳・・溢｡ｰ・ｼ髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・溢｡ｰ・ｼ) * (100 - TALENT:MASTER:・夋懍・* 20)
;・溢｡ｰ・ｼEXP・ｨ・・・溢｡ｰ・ｼEXP = EXP:MASTER:・奝ｵ・誤攷・ｽ嵭・* 4 + EXP:MASTER:・ｴ・母ｲｽ嵭・* 2 + EXP:MASTER:・ｴ・・ｲｽ嵭・
;・溢｡ｰ・ｼ・ｬ・ｱ蛻､螳・SIF (CUP:MASTER:・奝ｵ + CUP:MASTER:・溢ｾ・- CUP:MASTER:・ｵ・ｸ + ・溢｡ｰ・ｼEXP * 5) > (・溢｡ｰ・ｼ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(11))
	CALL ABLUP_RISE(MASTER, 11)


;-------------------------------------------------
;・川怱・瀧遵ABL
;-------------------------------------------------
@ABLUP_12M
#DIM ・川怱・瀧遵髮｣譏灘ｺｦ
#DIM ・川怱・瀧遵EXP
#DIM ・川怱・瀧遵・ｴ・・
;・川怱・瀧遵髮｣譏灘ｺｦ險ｭ螳・・川怱・瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・川怱・瀧遵) * (100 - TALENT:MASTER:・川怱﨑俾ｸｰ・ｬ・ * 20)
;・川怱・瀧遵EXP・ｨ・・・川怱・瀧遵EXP = EXP:MASTER:・川怱・ｽ嵭・+ EXP:MASTER:・・川梵・・ｲｽ嵭・;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = ((ABL:MASTER:・簿ｧ・+ ABL:MASTER:・ｸ・懍ｦ・ >= 20) ? 0 # (ABL:MASTER:・川怱・瀧遵 * 2 - 1 - (ABL:MASTER:・簿ｧ・+ ABL:MASTER:・ｸ・懍ｦ・)
・川怱・瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・川怱・瀧遵・ｬ・ｱ蛻､螳・SIF (CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ + ・川怱・瀧遵EXP * 10 / ・川怱・瀧遵・ｴ・・ > (・川怱・瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(12))
	CALL ABLUP_RISE(MASTER, 12)


;-------------------------------------------------
;・菩複・瀧遵ABL
;-------------------------------------------------
@ABLUP_13M
CALL ABLUP_13(MASTER)
@ABLUP_13T
CALL ABLUP_13(TARGET)

@ABLUP_13(ARG)
#DIM ・菩複・瀧遵髮｣譏灘ｺｦ
#DIM ・菩複・瀧遵EXP
#DIM ・菩複・瀧遵・ｴ・・
;・菩複・瀧遵髮｣譏灘ｺｦ險ｭ螳・・菩複・瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・菩複・瀧遵) * 100
;・菩複・瀧遵EXP・ｨ・・・菩複・瀧遵EXP = EXP:ARG:・菩複・ｽ嵭・;・簿ｧ戡BL縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (ABL:ARG:・簿ｧ・>= 10) ? 0 # (ABL:ARG:・菩複・瀧遵 - 1 - ABL:ARG:・簿ｧ・
・菩複・瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・菩複・瀧遵・ｬ・ｱ蛻､螳・SIF (・菩複・瀧遵EXP * 40 / ・菩複・瀧遵・ｴ・・ > (・菩複・瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(13))
	CALL ABLUP_RISE(ARG, 13)


;-------------------------------------------------
;・溢ｦ溢､瀧遵ABL
;-------------------------------------------------
@ABLUP_14M
CALL ABLUP_14(MASTER)
@ABLUP_14T
CALL ABLUP_14(TARGET)

@ABLUP_14(ARG)
#DIM ・溢ｦ溢､瀧遵髮｣譏灘ｺｦ
#DIM ・溢ｦ溢､瀧遵EXP
#DIM ・溢ｦ溢､瀧遵・ｴ・・
;・溢ｦ溢､瀧遵髮｣譏灘ｺｦ險ｭ螳・・溢ｦ溢､瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・溢ｦ溢､瀧遵) * (100 - TALENT:ARG:・肥擽 * 20)
;・溢ｦ溢､瀧遵EXP・ｨ・・・溢ｦ溢､瀧遵EXP = EXP:ARG:・溢ｦ一ｲｽ嵭・;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (ABL:ARG:・溢ｦ壱⊂ >= 10) ? 0 # (ABL:ARG:・溢ｦ溢､瀧遵 - 1 - ABL:ARG:・溢ｦ壱⊂)
・溢ｦ溢､瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・溢ｦ溢､瀧遵・ｬ・ｱ蛻､螳・;・・尖劇・・IF ARG == MASTER
	SIF (CFLAG:M嶸ｸ・・/ 2 + ・溢ｦ溢､瀧遵EXP * 20 / ・溢ｦ溢､瀧遵・ｴ・・ > (・溢ｦ溢､瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(14))
		CALL ABLUP_RISE(MASTER, 14)
;・・川梵
ELSE
	SIF (CFLAG:嶸ｸ・・/ 2 + ・溢ｦ溢､瀧遵EXP * 20 / ・溢ｦ溢､瀧遵・ｴ・・ > (・溢ｦ溢､瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(14))
		CALL ABLUP_RISE(TARGET, 14)
ENDIF


;-------------------------------------------------
;・奝ｵ・瀧遵ABL
;-------------------------------------------------
@ABLUP_15M
#DIM ・奝ｵ・瀧遵髮｣譏灘ｺｦ
#DIM ・奝ｵ・瀧遵EXP
#DIM ・奝ｵ・瀧遵・ｴ・・
;・奝ｵ・瀧遵髮｣譏灘ｺｦ險ｭ螳・・奝ｵ・瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・奝ｵ・瀧遵) * (100 - TALENT:MASTER:・・ｼｭ * 20)
;・奝ｵ・瀧遵EXP・ｨ・・・奝ｵ・瀧遵EXP = EXP:MASTER:・奝ｵ・誤攷・ｽ嵭・* 2 + EXP:MASTER:・ｴ・・ｲｽ嵭・;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = ((ABL:MASTER:・簿ｧ・+ ABL:MASTER:・溢｡ｰ・ｼ) >= 20) ? 0 # (ABL:MASTER:・奝ｵ・瀧遵 * 2 - 1 - (ABL:MASTER:・簿ｧ・+ ABL:MASTER:・溢｡ｰ・ｼ))
・奝ｵ・瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・奝ｵ・瀧遵・ｬ・ｱ蛻､螳・SIF (CUP:MASTER:・奝ｵ + ・奝ｵ・瀧遵EXP * 10 / ・奝ｵ・瀧遵・ｴ・・ > (・奝ｵ・瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(15))
	CALL ABLUP_RISE(MASTER, 15)


;-------------------------------------------------
;・ｬ・作､瀧遵ABL
;-------------------------------------------------
@ABLUP_16M
#DIM ・ｬ・作､瀧遵髮｣譏灘ｺｦ
#DIM ・ｬ・作､瀧遵EXP
#DIM ・ｬ・作､瀧遵・ｴ・・
;・ｬ・作､瀧遵髮｣譏灘ｺｦ險ｭ螳・・ｬ・作､瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・ｬ・作､瀧遵) * (100 - TALENT:MASTER:・・ｼｭ * 20)
;・ｬ・作､瀧遵EXP・ｨ・・・ｬ・作､瀧遵EXP = EXP:MASTER:・ｴ・母ｲｽ嵭・* 2 + EXP:MASTER:・ｴ・・ｲｽ嵭・;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = ((ABL:MASTER:・懍｢・+ ABL:MASTER:・溢｡ｰ・ｼ) >= 20) ? 0 # (ABL:MASTER:・ｬ・作､瀧遵 * 2 - 1 - (ABL:MASTER:・懍｢・+ ABL:MASTER:・溢｡ｰ・ｼ))
・ｬ・作､瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・ｬ・作､瀧遵・ｬ・ｱ蛻､螳・SIF (CUP:MASTER:・溢ｾ・+ ・ｬ・作､瀧遵EXP * 10 / ・ｬ・作､瀧遵・ｴ・・ > (・ｬ・作､瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(16))
	CALL ABLUP_RISE(MASTER, 16)


;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・占・蜉帙・荳頑・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;-------------------------------------------------
;巐醐剩ABL
;-------------------------------------------------
@ABLUP_20T
#DIM 巐醐剩髮｣譏灘ｺｦ
#DIM 巐醐剩EXP
#DIM 巐醐剩・ｴ・・
;巐醐剩髮｣譏灘ｺｦ險ｭ螳・巐醐剩髮｣譏灘ｺｦ = POWER(2, ABL:巐醐剩) * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;巐醐剩EXP・ｨ・・巐醐剩EXP = EXP:巐醐剩・ｽ嵭・;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:巐醐剩 * 2 - 1 - CFLAG:・・尖壱ｲｨ)
巐醐剩・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;巐醐剩・ｬ・ｱ蛻､螳・LOCAL = CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ・・* 2 + CUP:MASTER:・ｵ尞ｬ - CUP:MASTER:・倆墳
SIF (LOCAL / 2 + 巐醐剩EXP * 20 / 巐醐剩・ｴ・・ > (巐醐剩髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(20))
	CALL ABLUP_RISE(TARGET, 20)


;-------------------------------------------------
;・・ｴABL
;-------------------------------------------------
@ABLUP_21T
#DIM ・・ｴ髮｣譏灘ｺｦ
#DIM ・・ｴEXP
#DIM ・・ｴ・ｴ・・
;・・ｴ髮｣譏灘ｺｦ險ｭ螳・・・ｴ髮｣譏灘ｺｦ = POWER(2, ABL:・・ｴ) * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・・ｴEXP・ｨ・・・・ｴEXP = EXP:・們搆・ｽ嵭・;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・・ｴ * 2 - 1 - CFLAG:・・尖壱ｲｨ)
・・ｴ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・・ｴ・ｬ・ｱ蛻､螳・LOCAL = CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ - CUP:MASTER:・ｵ・ｸ
SIF (LOCAL / 3 + ・・ｴEXP * 20 / ・・ｴ・ｴ・・ > (・・ｴ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(21))
	CALL ABLUP_RISE(TARGET, 21)


;-------------------------------------------------
;・・ｵｬABL
;-------------------------------------------------
@ABLUP_22T
#DIM ・・ｵｬ髮｣譏灘ｺｦ
#DIM ・・ｵｬEXP
#DIM ・・ｵｬ・ｴ・・
;・・ｵｬ髮｣譏灘ｺｦ險ｭ螳・・・ｵｬ髮｣譏灘ｺｦ = POWER(2, ABL:・・ｵｬ) * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・・ｵｬEXP・ｨ・・・・ｵｬEXP = EXP:・・ｵｬ・ｬ・ｩ・ｽ嵭・;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・・ｵｬ * 2 - 1 - CFLAG:・・尖壱ｲｨ)
・・ｵｬ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・・ｵｬ・ｬ・ｱ蛻､螳・SIF (CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ - CUP:MASTER:・溢ｾ・+ ・・ｵｬEXP * 20 / ・・ｵｬ・ｴ・・ > (・・ｵｬ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(22))
	CALL ABLUP_RISE(TARGET, 22)


;-------------------------------------------------
;・ｱ・植BL
;-------------------------------------------------
@ABLUP_23T
#DIM ・ｱ・宣屮譏灘ｺｦ
#DIM ・ｱ・職XP
#DIM ・ｱ・尖ｳｴ・・
;・ｱ・宣屮譏灘ｺｦ險ｭ螳・・ｱ・宣屮譏灘ｺｦ = POWER(2, ABL:・ｱ・・ * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・ｱ・職XP・ｨ・・・ｱ・職XP = EXP:・ｱ・専ｲｽ嵭・;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・ｱ・・* 2 - 1 - CFLAG:・・尖壱ｲｨ)
・ｱ・尖ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・ｱ・尖峡・ｱ蛻､螳・LOCAL = CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・菩・+ CUP:MASTER:・ｵ・・- CUP:MASTER:・ｵ尞ｬ - CUP:MASTER:・ｵ・ｸ
SIF (LOCAL / 3 + ・ｱ・職XP * 20 / ・ｱ・尖ｳｴ・・ > (・ｱ・宣屮譏灘ｺｦ * ABLUP_DIFFICULTY(23))
	CALL ABLUP_RISE(TARGET, 23)


;-------------------------------------------------
;・們ｹ連BL
;縲取▼縺壹°縺励′繧峨○繧玖・蜉帙・;-------------------------------------------------
@ABLUP_24T
#DIM ・們ｹ倬屮譏灘ｺｦ
#DIM ・們ｹ櫓XP
#DIM ・們ｹ俯ｳｴ・・
;・們ｹ倬屮譏灘ｺｦ險ｭ螳・・們ｹ倬屮譏灘ｺｦ = POWER(2, ABL:・們ｹ・ * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・們ｹ櫓XP・ｨ・・・們ｹ櫓XP = EXP:MASTER:・ｸ・懋ｲｽ嵭・+ EXP:MASTER:・們囎・誤攷・ｽ嵭・* 2
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・們ｹ・* 2 - 1 - CFLAG:・・尖壱ｲｨ)
・們ｹ俯ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・們ｹ俯峡・ｱ蛻､螳・SIF (CUP:MASTER:・菩・+ CUP:MASTER:・們・- CUP:MASTER:・ｵ・ｸ + ・們ｹ櫓XP * 20 / ・們ｹ俯ｳｴ・・ > (・們ｹ倬屮譏灘ｺｦ * ABLUP_DIFFICULTY(24))
	CALL ABLUP_RISE(TARGET, 24)


;-------------------------------------------------
;・餓ぎABL
;縲狩ｴ餓ぎ・懦お・､閭ｽ蜉帙・;-------------------------------------------------
@ABLUP_25T
#DIM ・餓ぎ髮｣譏灘ｺｦ
#DIM ・餓ぎEXP
#DIM ・餓ぎ・ｴ・・
;・餓ぎ髮｣譏灘ｺｦ險ｭ螳・・餓ぎ髮｣譏灘ｺｦ = POWER(2, ABL:・餓ぎ) * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・餓ぎEXP・ｨ・・・餓ぎEXP = EXP:MASTER:・ｬ・語ｲｽ嵭・+ EXP:MASTER:・們搆・ｽ嵭・+ EXP:MASTER:・餓ぎ・誤攷・ｽ嵭・* 2 + EXP:MASTER:・溢菩亨墲ｨ・ｽ嵭・* 3 + EXP:MASTER:・・母ｲｽ嵭・* 4
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・餓ぎ * 2 - 1 - CFLAG:・・尖壱ｲｨ)
・餓ぎ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・餓ぎ・ｬ・ｱ蛻､螳・SIF (CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ・・- CUP:MASTER:・倆墳 + ・餓ぎEXP * 10 / ・餓ぎ・ｴ・・ > (・餓ぎ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(25))
	CALL ABLUP_RISE(TARGET, 25)


;-------------------------------------------------
;・﨑僊BL
;-------------------------------------------------
@ABLUP_26T
#DIM ・﨑咎屮譏灘ｺｦ
#DIM ・﨑僞XP
#DIM ・﨑呱ｳｴ・・
;・﨑咎屮譏灘ｺｦ險ｭ螳・・﨑咎屮譏灘ｺｦ = POWER(2, ABL:・﨑・ * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・﨑僞XP・ｨ・・・﨑僞XP = EXP:MASTER:・ｴ・母ｲｽ嵭・+ EXP:MASTER:・奝ｵ・誤攷・ｽ嵭・* 2 + EXP:MASTER:・ｶ嶹菩棗・ｽ嵭・* 4 + EXP:MASTER:・｡嶹菩棗・ｽ嵭・* 4
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・﨑・* 2 - 1 - CFLAG:・・尖壱ｲｨ)
・﨑呱ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・﨑呱峡・ｱ蛻､螳・SIF (CUP:MASTER:・奝ｵ + CUP:MASTER:・溢ｾ・- CUP:MASTER:・倆墳 + ・﨑僞XP * 10 / ・﨑呱ｳｴ・・ > (・﨑咎屮譏灘ｺｦ * ABLUP_DIFFICULTY(26))
	CALL ABLUP_RISE(TARGET, 26)


;-------------------------------------------------
;・ｴ・、BL
;-------------------------------------------------
@ABLUP_27T
#DIM ・ｴ・・屮譏灘ｺｦ
#DIM ・ｴ・・XP
#DIM ・ｴ・・ｳｴ・・
;・ｴ・・屮譏灘ｺｦ險ｭ螳・・ｴ・・屮譏灘ｺｦ = POWER(2, ABL:・ｴ・・ * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・ｴ・・XP・ｨ・・・ｴ・・XP = EXP:MASTER:・ｴ・・ｲｽ嵭・;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・ｴ・・* 2 - 1 - CFLAG:・・尖壱ｲｨ)
・ｴ・・ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・ｴ・・峡・ｱ蛻､螳・SIF (SOURCE:MASTER:・ｴ夋・+ ・ｴ・・XP * 20 / ・ｴ・・ｳｴ・・ > (・ｴ・・屮譏灘ｺｦ * ABLUP_DIFFICULTY(27))
	CALL ABLUP_RISE(TARGET, 27)


;-------------------------------------------------
;・ｬ・ｭABL
;-------------------------------------------------
@ABLUP_28T
;・ｬ・ｭABL縺ｯ荳頑・縺励↑縺・證ｫ螳・


@ABLUP_RISE(・・・ ARG)
#DIM ・・・ABL:・・・ARG++
IF ・・・== MASTER
	CALL KOJO_EVENT(23, ARG)
ELSEIF ・・・== TARGET
	CALL KOJO_EVENT(24, ARG)
ENDIF
;OriginalString : %CALLNAME:・・・縺ｮ%ABLNAME:ARG%\@ 20 <= ARG && ARG <= 29 ? ・､墲ｬ # \@縺圭@ ABL:・・・ARG > 9 ? {ABL:・・・ARG} # %TOFULL(TOSTR(ABL:・・・ARG))% \@・們来・､
PRINTFORMW %CALLNAME:・・・・・%ABLNAME:ARG%\@ 20 <= ARG && ARG <= 29 ? ・､墲ｬ # \@・ｴ \@ ABL:・・・ARG > 9 ? {ABL:・・・ARG} # %TOFULL(TOSTR(ABL:・・・ARG))% \@・ｴ ・們来・､

@ABLUP_DIFFICULTY(ARG)
#FUNCTION
RETURNF 6
=======
・ｿ
;窶ｻ・・川梵縺ｮABLUP蜃ｦ逅・・蟄伜惠縺励↑縺・ヱ繝ｩ繝｡繝ｼ繧ｿ縺後≠繧九◆繧√→縺薙ｍ縺ｩ縺薙ｍ螯･蜊斐＠縺ｦ縺・ｋ

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;閭ｽ蜉帑ｸ頑・蜃ｦ逅・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;-------------------------------------------------
;・懍｢・BL
;-------------------------------------------------
@ABLUP_0M
#DIM ・ｴ・ｵ髮｣譏灘ｺｦ
#DIM ・ｴ・ｵEXP
#DIM ・ｴ・ｵ・ｴ・・
#DIM ・ｴ・ｵ・ｬ・ｱ
#DIM ・ｵ尞ｬ髮｣譏灘ｺｦ
#DIM ・ｵ尞ｬEXP
#DIM ・ｵ尞ｬ・ｴ・・
#DIM ・ｵ尞ｬ・ｬ・ｱ

;・懍｢・・ｵｴ・ｵ繝ｫ繝ｼ繝・
;・ｴ・ｵ髮｣譏灘ｺｦ險ｭ螳・
・ｴ・ｵ髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・懍｢・ * (100 - TALENT:MASTER:嵓・攵・ｴ・罹ぐ・・* 20 + TALENT:MASTER:嵓・攵・ｴ・罹・・・* 20)
;・ｴ・ｵEXP・ｨ・・
・ｴ・ｵEXP = EXP:MASTER:・ｴ・ｵ・ｽ嵭・
;・ｴ・ｵ・・攤縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (MARK:・ｴ・ｵ・・攤 >= 10) ? 0 # (ABL:MASTER:・懍｢・* 2 - 1 - MARK:・ｴ・ｵ・・攤)
・ｴ・ｵ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)
;・ｴ・ｵ・ｬ・ｱ蛻､螳・
LOCAL = CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ・・
・ｴ・ｵ・ｬ・ｱ = (LOCAL / 2 + ・ｴ・ｵEXP * 20 / ・ｴ・ｵ・ｴ・・ > (・ｴ・ｵ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(0))

;・ｵ尞ｬ繝ｫ繝ｼ繝・
;・ｵ尞ｬ髮｣譏灘ｺｦ險ｭ螳・
・ｵ尞ｬ髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・懍｢・ * (100 - TALENT:MASTER:・・氈・ｴ * 20 + TALENT:MASTER:・ｳ・・* 20)
;・ｵ尞ｬEXP・ｨ・・
・ｵ尞ｬEXP = EXP:MASTER:・ｵ尞ｬ・ｽ嵭・
;孖ｸ・ｼ・ｰ・医′荳鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (MARK:孖ｸ・ｼ・ｰ・・>= 10) ? 0 # (ABL:MASTER:・懍｢・* 2 - 1 - MARK:孖ｸ・ｼ・ｰ・・
・ｵ尞ｬ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)
;・ｵ尞ｬ・ｬ・ｱ蛻､螳・
・ｵ尞ｬ・ｬ・ｱ = (CUP:MASTER:・ｵ尞ｬ + ・ｵ尞ｬEXP * 20 / ・ｵ尞ｬ・ｴ・・ > (・ｵ尞ｬ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(0))

;・ｴ・ｵ邉ｻ繝ｻ・ｵ尞ｬ邉ｻ縺ｧ譚｡莉ｶ繧呈ｺ縺溘○縺ｰABLUP
SIF ・ｴ・ｵ・ｬ・ｱ || ・ｵ尞ｬ・ｬ・ｱ
	CALL ABLUP_RISE(MASTER, 0)


;-------------------------------------------------
;・簿ｧ戡BL
;-------------------------------------------------
@ABLUP_1M
CALL ABLUP_1(MASTER)
@ABLUP_1T
CALL ABLUP_1(TARGET)

@ABLUP_1(ARG)
#DIM ・簿ｧ晞屮譏灘ｺｦ
#DIM ・簿ｧ戲XP
#DIM ・簿ｧ晤ｳｴ・・

;・簿ｧ晞屮譏灘ｺｦ險ｭ螳・
・簿ｧ晞屮譏灘ｺｦ = POWER(2, ABL:ARG:・簿ｧ・ * (100 - TALENT:ARG:・語ｰ川乱・肥ｧ・* 20 + TALENT:ARG:・語ｰ川揆・・・* 20)
;・簿ｧ戲XP・ｨ・・鬮伜ｺｦ縺ｪEXP縺ｻ縺ｩ・ｴ・募､縺悟､ｧ縺阪＞)
・簿ｧ戲XP = EXP:ARG:・｣・ｽ嵭・+ EXP:ARG:・｢・ｽ嵭・+ EXP:ARG:・ｱ・・・
・簿ｧ戲XP += EXP:ARG:・ｶ・ｽ嵭・* 2 + EXP:ARG:・｡・ｽ嵭・* 2 + EXP:ARG:・溢母ｲｽ嵭・* 2 + EXP:ARG:・ｬ・母ｲｽ嵭・* 2
・簿ｧ戲XP += EXP:ARG:・川怱・ｽ嵭・* 3 + EXP:ARG:・・悛・ｽ嵭・* 4 + EXP:ARG:・ｴ・・ｲｽ嵭・* 4 + EXP:ARG:・ｶ嶹菩棗・ｽ嵭・* 5 + EXP:ARG:・｡嶹菩棗・ｽ嵭・* 5
;・・尖劇・・
IF ARG == MASTER
	;・誤攷・・攤縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
	LOCAL = (MARK:・誤攷・・攤 >= 10) ? 0 # (ABL:ARG:・簿ｧ・* 2 - 1 - MARK:・誤攷・・攤)
;・・川梵(螯･蜊・
ELSE
	;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
	LOCAL = (CFLAG:MASTER:・・尖壱ｲｨ >= 10) ? 0 # (ABL:ARG:・簿ｧ・* 2 - 1 - CFLAG:MASTER:・・尖壱ｲｨ)
ENDIF
・簿ｧ晤ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・簿ｧ晤峡・ｱ蛻､螳・
;・・尖劇・・
IF ARG == MASTER
	SIF (CUP:ARG:・菩・+ ・簿ｧ戲XP * 10 / ・簿ｧ晤ｳｴ・・ > (・簿ｧ晞屮譏灘ｺｦ * ABLUP_DIFFICULTY(1))
		CALL ABLUP_RISE(MASTER, 1)
;・・川梵(螯･蜊・
ELSE
	SIF (CUP:ARG:・鯉ｼ｣ + CUP:ARG:・鯉ｼｶ + CUP:ARG:・鯉ｼ｡ + CUP:ARG:・鯉ｼ｢ + ・簿ｧ戲XP * 10 / ・簿ｧ晤ｳｴ・・ > (・簿ｧ晞屮譏灘ｺｦ * ABLUP_DIFFICULTY(1))
		CALL ABLUP_RISE(TARGET, 1)
ENDIF


;-------------------------------------------------
;・ｰ・植BL
;-------------------------------------------------
@ABLUP_2M
CALL ABLUP_2(MASTER)
@ABLUP_2T
CALL ABLUP_2(TARGET)

@ABLUP_2(ARG)
#DIM ・ｰ・宣屮譏灘ｺｦ
#DIM ・ｰ・職XP
#DIM ・ｰ・尖ｳｴ・・
#DIM 逶ｸ・・

;・餓ぎ逶ｸ・舌ｒ莉｣蜈･
IF ARG == MASTER
	逶ｸ・・= TARGET
ELSE
	逶ｸ・・= MASTER
ENDIF

;・ｰ・宣屮譏灘ｺｦ險ｭ螳・
・ｰ・宣屮譏灘ｺｦ = POWER(2, ABL:ARG:・ｰ・・ * (100 - TALENT:ARG:・ｵ・晤ｹ・・* 20 + TALENT:ARG:・ｵ・晤叶・ｼ * 20)
;・ｰ・職XP・ｨ・・
・ｰ・職XP = EXP:ARG:・ｱ・・・+ EXP:ARG:・ｬ・語ｲｽ嵭・* 2 + EXP:ARG:・們搆・ｽ嵭・* 2 + EXP:ARG:・ｱ・専ｲｽ嵭・* 2 + EXP:ARG:・溢菩亨墲ｨ・ｽ嵭・* 4
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:ARG:・・尖壱ｲｨ >= 10) ? 0 # (ABL:ARG:・ｰ・・* 2 - 1 - CFLAG:ARG:・・尖壱ｲｨ)
・ｰ・尖ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・ｰ・尖峡・ｱ蛻､螳・
LOCAL = CUP:逶ｸ・・・鯉ｼ｣ + CUP:逶ｸ・・・鯉ｼｶ + CUP:逶ｸ・・・鯉ｼ｡ + CUP:逶ｸ・・・鯉ｼ｢
SIF (LOCAL / 3 + ・ｰ・職XP * 10 / ・ｰ・尖ｳｴ・・ > (・ｰ・宣屮譏灘ｺｦ * ABLUP_DIFFICULTY(2))
	CALL ABLUP_RISE(ARG, 2)


;-------------------------------------------------
;・ｸ・専ｰ、BL
;-------------------------------------------------
@ABLUP_3M
CALL ABLUP_SENSITIVITY(MASTER, 3)
@ABLUP_4M
CALL ABLUP_SENSITIVITY(MASTER, 4)
@ABLUP_5M
CALL ABLUP_SENSITIVITY(MASTER, 5)
@ABLUP_6M
CALL ABLUP_SENSITIVITY(MASTER, 6)
@ABLUP_3T
CALL ABLUP_SENSITIVITY(TARGET, 3)
@ABLUP_4T
CALL ABLUP_SENSITIVITY(TARGET, 4)
@ABLUP_5T
CALL ABLUP_SENSITIVITY(TARGET, 5)
@ABLUP_6T
CALL ABLUP_SENSITIVITY(TARGET, 6)

@ABLUP_SENSITIVITY(・・・ ARG)
#DIM 驛ｨ菴・
#DIM ・専ｰ・屮譏灘ｺｦ
#DIM ・専ｰ・XP
#DIM ・専ｰ・ｳｴ・・
#DIM ・・・

驛ｨ菴・= ARG - 3
SPLIT "・｣/・ｶ/・｡/・｢", "/", LOCALS

;・専ｰ・屮譏灘ｺｦ險ｭ螳・
・専ｰ・屮譏灘ｺｦ = POWER(2, ABL:・・・@"%LOCALS:驛ｨ菴・・専ｰ・) * (100 - TALENT:・・・@"%LOCALS:驛ｨ菴・・ｼ・・ * 20 + TALENT:・・・@"%LOCALS:驛ｨ菴・・緋ｰ・ * 20)
;・専ｰ・XP・ｨ・・
・専ｰ・XP = EXP:・・・@"%LOCALS:驛ｨ菴・・ｽ嵭・ * 2 + EXP:・・・・溢母ｲｽ嵭・
SIF LOCALS:驛ｨ菴・== "・｣"
	・専ｰ・XP += EXP:・・・・溢母ｲｽ嵭・
SIF LOCALS:驛ｨ菴・== "・ｶ"
	・専ｰ・XP += EXP:・・・・ｶ嶹菩棗・ｽ嵭・* 4 + EXP:・・・・ｱ・専ｲｽ嵭・* 2
SIF LOCALS:驛ｨ菴・== "・｡"
	・専ｰ・XP += EXP:・・・・｡嶹菩棗・ｽ嵭・* 4 + EXP:・・・・ｱ・専ｲｽ嵭・+ EXP:・・・・ｴ・・ｲｽ嵭・
SIF LOCALS:驛ｨ菴・== "・｢"
	・専ｰ・XP += EXP:・・・・・悛・ｽ嵭・* 3
;・・尖劇・・
IF ARG == MASTER
	;・誤攷・・攤縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
	LOCAL = (MARK:・誤攷・・攤 >= 10) ? 0 # (ABL:・・・@"%LOCALS:驛ｨ菴・・専ｰ・ * 2 - 1 - MARK:・誤攷・・攤)
;・・川梵(螯･蜊・
ELSE
	;・簿ｧ戡BL縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
	LOCAL = (ABL:・・・・簿ｧ・>= 10) ? 0 # (ABL:・・・@"%LOCALS:驛ｨ菴・・専ｰ・ * 2 - 1 - ABL:・・・・簿ｧ・
ENDIF
・専ｰ・ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・専ｰ・峡・ｱ蛻､螳・
SIF (CUP:・・・@"・・LOCALS:驛ｨ菴・" + ・専ｰ・XP * 10 / ・専ｰ・ｳｴ・・ > (・専ｰ・屮譏灘ｺｦ * ABLUP_DIFFICULTY(ARG) * 4)
	CALL ABLUP_RISE(・・・ ARG)


;-------------------------------------------------
;・餓ぎ・菩侠ABL
;-------------------------------------------------
@ABLUP_7M
CALL ABLUP_7(MASTER)
@ABLUP_7T
CALL ABLUP_7(TARGET)

@ABLUP_7(ARG)
#DIM ・餓ぎ・菩侠髮｣譏灘ｺｦ
#DIM ・餓ぎ・菩侠EXP
#DIM ・餓ぎ・菩侠・ｴ・・

;・餓ぎ・菩侠髮｣譏灘ｺｦ險ｭ螳・
・餓ぎ・菩侠髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・餓ぎ・菩侠) * (100 - TALENT:ARG:嵭護侠・・* 20 + TALENT:ARG:・俯徐・・* 20)
;・餓ぎ・菩侠EXP・ｨ・・
・餓ぎ・菩侠EXP = EXP:ARG:・ｬ・語ｲｽ嵭・+ EXP:ARG:・們搆・ｽ嵭・+ EXP:ARG:・餓ぎ・誤攷・ｽ嵭・* 4
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:ARG:・・尖壱ｲｨ >= 10) ? 0 # (ABL:ARG:・餓ぎ・菩侠 * 2 - 1 - CFLAG:ARG:・・尖壱ｲｨ)
・餓ぎ・菩侠・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・餓ぎ・菩侠・ｬ・ｱ蛻､螳・
;・・尖劇・・
IF ARG == MASTER
	SIF (CUP:ARG:・ｵ・・+ ・餓ぎ・菩侠EXP * 10 / ・餓ぎ・菩侠・ｴ・・ > (・餓ぎ・菩侠髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(7))
		CALL ABLUP_RISE(MASTER, 7)
;・・川梵(螯･蜊・
ELSE
	SIF (SOURCE:MASTER:・ｬ・ｱ / 3 + ・餓ぎ・菩侠EXP * 10 / ・餓ぎ・菩侠・ｴ・・ > (・餓ぎ・菩侠髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(7))
		CALL ABLUP_RISE(TARGET, 7)
ENDIF


;-------------------------------------------------
;・ｸ・懍ｦ戡BL
;-------------------------------------------------
@ABLUP_8M
CALL ABLUP_8(MASTER)
@ABLUP_8T
;TARGET縺ｫ縺ｯ・ｸ・懍ｦ戡BL荳頑・縺後↑縺・螯･蜊・

@ABLUP_8(ARG)
#DIM ・ｸ・懍ｦ晞屮譏灘ｺｦ
#DIM ・ｸ・懍ｦ戲XP

;・ｸ・懍ｦ晞屮譏灘ｺｦ險ｭ螳・
・ｸ・懍ｦ晞屮譏灘ｺｦ = POWER(2, ABL:ARG:・ｸ・懍ｦ・ * (100 - TALENT:ARG:﨑ｴ・ｩ * 20 + TALENT:ARG:・ｵ・・* 20)
;・ｸ・懍ｦ戲XP・ｨ・・
・ｸ・懍ｦ戲XP = EXP:ARG:・ｸ・懋ｲｽ嵭・* 3 + EXP:ARG:・溢母ｲｽ嵭・

;・ｸ・懍ｦ晤峡・ｱ蛻､螳・
SIF (CUP:ARG:・們・+ ・ｸ・懍ｦ戲XP * 10) > (・ｸ・懍ｦ晞屮譏灘ｺｦ * ABLUP_DIFFICULTY(8))
	CALL ABLUP_RISE(ARG, 8)


;-------------------------------------------------
;・溢ｦ壱⊂ABL
;-------------------------------------------------
@ABLUP_9M
CALL ABLUP_9(MASTER)
@ABLUP_9T
CALL ABLUP_9(TARGET)

@ABLUP_9(ARG)
#DIM ・溢ｦ壱⊂髮｣譏灘ｺｦ
#DIM ・溢ｦ壱⊂EXP

;・溢ｦ壱⊂髮｣譏灘ｺｦ險ｭ螳・
・溢ｦ壱⊂髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・溢ｦ壱⊂) * (100 - TALENT:ARG:・肥擽 * 20)
;・溢ｦ壱⊂EXP・ｨ・・
・溢ｦ壱⊂EXP = EXP:ARG:・溢ｦ一ｲｽ嵭・

;・溢ｦ壱⊂・ｬ・ｱ蛻､螳・
SIF (SOURCE:ARG:・・・+ SOURCE:ARG:・ｴ・ｽ + ・溢ｦ壱⊂EXP * 20) > (・溢ｦ壱⊂髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(9))
	CALL ABLUP_RISE(ARG, 9)


;-------------------------------------------------
;・｢・ｬ・ｼABL
;-------------------------------------------------
@ABLUP_10M
CALL ABLUP_10(MASTER)
@ABLUP_10T
CALL ABLUP_10(TARGET)

@ABLUP_10(ARG)
#DIM ・｢・ｬ・ｼ髮｣譏灘ｺｦ
#DIM ・｢・ｬ・ｼEXP

;・｢・ｬ・ｼ髮｣譏灘ｺｦ險ｭ螳・
・｢・ｬ・ｼ髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・｢・ｬ・ｼ) * (100 - TALENT:ARG:・肥擽 * 20)
;・｢・ｬ・ｼEXP・ｨ・・
・｢・ｬ・ｼEXP = EXP:ARG:・｢・ｬ・ｽ嵭・

;・｢・ｬ・ｼ・ｬ・ｱ蛻､螳・
SIF (SOURCE:ARG:・・・+ SOURCE:ARG:・ｴ・ｽ + ・｢・ｬ・ｼEXP * 20) > (・｢・ｬ・ｼ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(10))
	CALL ABLUP_RISE(ARG, 10)


;-------------------------------------------------
;・溢｡ｰ・ｼABL
;-------------------------------------------------
@ABLUP_11M
#DIM ・溢｡ｰ・ｼ髮｣譏灘ｺｦ
#DIM ・溢｡ｰ・ｼEXP

;・溢｡ｰ・ｼ髮｣譏灘ｺｦ險ｭ螳・
・溢｡ｰ・ｼ髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・溢｡ｰ・ｼ) * (100 - TALENT:MASTER:・夋懍・* 20)
;・溢｡ｰ・ｼEXP・ｨ・・
・溢｡ｰ・ｼEXP = EXP:MASTER:・奝ｵ・誤攷・ｽ嵭・* 4 + EXP:MASTER:・ｴ・母ｲｽ嵭・* 2 + EXP:MASTER:・ｴ・・ｲｽ嵭・

;・溢｡ｰ・ｼ・ｬ・ｱ蛻､螳・
SIF (CUP:MASTER:・奝ｵ + CUP:MASTER:・溢ｾ・- CUP:MASTER:・ｵ・ｸ + ・溢｡ｰ・ｼEXP * 5) > (・溢｡ｰ・ｼ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(11))
	CALL ABLUP_RISE(MASTER, 11)


;-------------------------------------------------
;・川怱・瀧遵ABL
;-------------------------------------------------
@ABLUP_12M
#DIM ・川怱・瀧遵髮｣譏灘ｺｦ
#DIM ・川怱・瀧遵EXP
#DIM ・川怱・瀧遵・ｴ・・

;・川怱・瀧遵髮｣譏灘ｺｦ險ｭ螳・
・川怱・瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・川怱・瀧遵) * (100 - TALENT:MASTER:・川怱﨑俾ｸｰ・ｬ・ * 20)
;・川怱・瀧遵EXP・ｨ・・
・川怱・瀧遵EXP = EXP:MASTER:・川怱・ｽ嵭・+ EXP:MASTER:・・川梵・・ｲｽ嵭・
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = ((ABL:MASTER:・簿ｧ・+ ABL:MASTER:・ｸ・懍ｦ・ >= 20) ? 0 # (ABL:MASTER:・川怱・瀧遵 * 2 - 1 - (ABL:MASTER:・簿ｧ・+ ABL:MASTER:・ｸ・懍ｦ・)
・川怱・瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・川怱・瀧遵・ｬ・ｱ蛻､螳・
SIF (CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ + ・川怱・瀧遵EXP * 10 / ・川怱・瀧遵・ｴ・・ > (・川怱・瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(12))
	CALL ABLUP_RISE(MASTER, 12)


;-------------------------------------------------
;・菩複・瀧遵ABL
;-------------------------------------------------
@ABLUP_13M
CALL ABLUP_13(MASTER)
@ABLUP_13T
CALL ABLUP_13(TARGET)

@ABLUP_13(ARG)
#DIM ・菩複・瀧遵髮｣譏灘ｺｦ
#DIM ・菩複・瀧遵EXP
#DIM ・菩複・瀧遵・ｴ・・

;・菩複・瀧遵髮｣譏灘ｺｦ險ｭ螳・
・菩複・瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・菩複・瀧遵) * 100
;・菩複・瀧遵EXP・ｨ・・
・菩複・瀧遵EXP = EXP:ARG:・菩複・ｽ嵭・
;・簿ｧ戡BL縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (ABL:ARG:・簿ｧ・>= 10) ? 0 # (ABL:ARG:・菩複・瀧遵 - 1 - ABL:ARG:・簿ｧ・
・菩複・瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・菩複・瀧遵・ｬ・ｱ蛻､螳・
SIF (・菩複・瀧遵EXP * 40 / ・菩複・瀧遵・ｴ・・ > (・菩複・瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(13))
	CALL ABLUP_RISE(ARG, 13)


;-------------------------------------------------
;・溢ｦ溢､瀧遵ABL
;-------------------------------------------------
@ABLUP_14M
CALL ABLUP_14(MASTER)
@ABLUP_14T
CALL ABLUP_14(TARGET)

@ABLUP_14(ARG)
#DIM ・溢ｦ溢､瀧遵髮｣譏灘ｺｦ
#DIM ・溢ｦ溢､瀧遵EXP
#DIM ・溢ｦ溢､瀧遵・ｴ・・

;・溢ｦ溢､瀧遵髮｣譏灘ｺｦ險ｭ螳・
・溢ｦ溢､瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:ARG:・溢ｦ溢､瀧遵) * (100 - TALENT:ARG:・肥擽 * 20)
;・溢ｦ溢､瀧遵EXP・ｨ・・
・溢ｦ溢､瀧遵EXP = EXP:ARG:・溢ｦ一ｲｽ嵭・
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (ABL:ARG:・溢ｦ壱⊂ >= 10) ? 0 # (ABL:ARG:・溢ｦ溢､瀧遵 - 1 - ABL:ARG:・溢ｦ壱⊂)
・溢ｦ溢､瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・溢ｦ溢､瀧遵・ｬ・ｱ蛻､螳・
;・・尖劇・・
IF ARG == MASTER
	SIF (CFLAG:M嶸ｸ・・/ 2 + ・溢ｦ溢､瀧遵EXP * 20 / ・溢ｦ溢､瀧遵・ｴ・・ > (・溢ｦ溢､瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(14))
		CALL ABLUP_RISE(MASTER, 14)
;・・川梵
ELSE
	SIF (CFLAG:嶸ｸ・・/ 2 + ・溢ｦ溢､瀧遵EXP * 20 / ・溢ｦ溢､瀧遵・ｴ・・ > (・溢ｦ溢､瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(14))
		CALL ABLUP_RISE(TARGET, 14)
ENDIF


;-------------------------------------------------
;・奝ｵ・瀧遵ABL
;-------------------------------------------------
@ABLUP_15M
#DIM ・奝ｵ・瀧遵髮｣譏灘ｺｦ
#DIM ・奝ｵ・瀧遵EXP
#DIM ・奝ｵ・瀧遵・ｴ・・

;・奝ｵ・瀧遵髮｣譏灘ｺｦ險ｭ螳・
・奝ｵ・瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・奝ｵ・瀧遵) * (100 - TALENT:MASTER:・・ｼｭ * 20)
;・奝ｵ・瀧遵EXP・ｨ・・
・奝ｵ・瀧遵EXP = EXP:MASTER:・奝ｵ・誤攷・ｽ嵭・* 2 + EXP:MASTER:・ｴ・・ｲｽ嵭・
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = ((ABL:MASTER:・簿ｧ・+ ABL:MASTER:・溢｡ｰ・ｼ) >= 20) ? 0 # (ABL:MASTER:・奝ｵ・瀧遵 * 2 - 1 - (ABL:MASTER:・簿ｧ・+ ABL:MASTER:・溢｡ｰ・ｼ))
・奝ｵ・瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・奝ｵ・瀧遵・ｬ・ｱ蛻､螳・
SIF (CUP:MASTER:・奝ｵ + ・奝ｵ・瀧遵EXP * 10 / ・奝ｵ・瀧遵・ｴ・・ > (・奝ｵ・瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(15))
	CALL ABLUP_RISE(MASTER, 15)


;-------------------------------------------------
;・ｬ・作､瀧遵ABL
;-------------------------------------------------
@ABLUP_16M
#DIM ・ｬ・作､瀧遵髮｣譏灘ｺｦ
#DIM ・ｬ・作､瀧遵EXP
#DIM ・ｬ・作､瀧遵・ｴ・・

;・ｬ・作､瀧遵髮｣譏灘ｺｦ險ｭ螳・
・ｬ・作､瀧遵髮｣譏灘ｺｦ = POWER(2, ABL:MASTER:・ｬ・作､瀧遵) * (100 - TALENT:MASTER:・・ｼｭ * 20)
;・ｬ・作､瀧遵EXP・ｨ・・
・ｬ・作､瀧遵EXP = EXP:MASTER:・ｴ・母ｲｽ嵭・* 2 + EXP:MASTER:・ｴ・・ｲｽ嵭・
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = ((ABL:MASTER:・懍｢・+ ABL:MASTER:・溢｡ｰ・ｼ) >= 20) ? 0 # (ABL:MASTER:・ｬ・作､瀧遵 * 2 - 1 - (ABL:MASTER:・懍｢・+ ABL:MASTER:・溢｡ｰ・ｼ))
・ｬ・作､瀧遵・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・ｬ・作､瀧遵・ｬ・ｱ蛻､螳・
SIF (CUP:MASTER:・溢ｾ・+ ・ｬ・作､瀧遵EXP * 10 / ・ｬ・作､瀧遵・ｴ・・ > (・ｬ・作､瀧遵髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(16))
	CALL ABLUP_RISE(MASTER, 16)


;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・占・蜉帙・荳頑・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;-------------------------------------------------
;巐醐剩ABL
;-------------------------------------------------
@ABLUP_20T
#DIM 巐醐剩髮｣譏灘ｺｦ
#DIM 巐醐剩EXP
#DIM 巐醐剩・ｴ・・

;巐醐剩髮｣譏灘ｺｦ險ｭ螳・
巐醐剩髮｣譏灘ｺｦ = POWER(2, ABL:巐醐剩) * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;巐醐剩EXP・ｨ・・
巐醐剩EXP = EXP:巐醐剩・ｽ嵭・
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:巐醐剩 * 2 - 1 - CFLAG:・・尖壱ｲｨ)
巐醐剩・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;巐醐剩・ｬ・ｱ蛻､螳・
LOCAL = CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ・・* 2 + CUP:MASTER:・ｵ尞ｬ - CUP:MASTER:・倆墳
SIF (LOCAL / 2 + 巐醐剩EXP * 20 / 巐醐剩・ｴ・・ > (巐醐剩髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(20))
	CALL ABLUP_RISE(TARGET, 20)


;-------------------------------------------------
;・・ｴABL
;-------------------------------------------------
@ABLUP_21T
#DIM ・・ｴ髮｣譏灘ｺｦ
#DIM ・・ｴEXP
#DIM ・・ｴ・ｴ・・

;・・ｴ髮｣譏灘ｺｦ險ｭ螳・
・・ｴ髮｣譏灘ｺｦ = POWER(2, ABL:・・ｴ) * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・・ｴEXP・ｨ・・
・・ｴEXP = EXP:・們搆・ｽ嵭・
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・・ｴ * 2 - 1 - CFLAG:・・尖壱ｲｨ)
・・ｴ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・・ｴ・ｬ・ｱ蛻､螳・
LOCAL = CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ - CUP:MASTER:・ｵ・ｸ
SIF (LOCAL / 3 + ・・ｴEXP * 20 / ・・ｴ・ｴ・・ > (・・ｴ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(21))
	CALL ABLUP_RISE(TARGET, 21)


;-------------------------------------------------
;・・ｵｬABL
;-------------------------------------------------
@ABLUP_22T
#DIM ・・ｵｬ髮｣譏灘ｺｦ
#DIM ・・ｵｬEXP
#DIM ・・ｵｬ・ｴ・・

;・・ｵｬ髮｣譏灘ｺｦ險ｭ螳・
・・ｵｬ髮｣譏灘ｺｦ = POWER(2, ABL:・・ｵｬ) * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・・ｵｬEXP・ｨ・・
・・ｵｬEXP = EXP:・・ｵｬ・ｬ・ｩ・ｽ嵭・
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・・ｵｬ * 2 - 1 - CFLAG:・・尖壱ｲｨ)
・・ｵｬ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・・ｵｬ・ｬ・ｱ蛻､螳・
SIF (CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ - CUP:MASTER:・溢ｾ・+ ・・ｵｬEXP * 20 / ・・ｵｬ・ｴ・・ > (・・ｵｬ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(22))
	CALL ABLUP_RISE(TARGET, 22)


;-------------------------------------------------
;・ｱ・植BL
;-------------------------------------------------
@ABLUP_23T
#DIM ・ｱ・宣屮譏灘ｺｦ
#DIM ・ｱ・職XP
#DIM ・ｱ・尖ｳｴ・・

;・ｱ・宣屮譏灘ｺｦ險ｭ螳・
・ｱ・宣屮譏灘ｺｦ = POWER(2, ABL:・ｱ・・ * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・ｱ・職XP・ｨ・・
・ｱ・職XP = EXP:・ｱ・専ｲｽ嵭・
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・ｱ・・* 2 - 1 - CFLAG:・・尖壱ｲｨ)
・ｱ・尖ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・ｱ・尖峡・ｱ蛻､螳・
LOCAL = CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・菩・+ CUP:MASTER:・ｵ・・- CUP:MASTER:・ｵ尞ｬ - CUP:MASTER:・ｵ・ｸ
SIF (LOCAL / 3 + ・ｱ・職XP * 20 / ・ｱ・尖ｳｴ・・ > (・ｱ・宣屮譏灘ｺｦ * ABLUP_DIFFICULTY(23))
	CALL ABLUP_RISE(TARGET, 23)


;-------------------------------------------------
;・們ｹ連BL
;縲取▼縺壹°縺励′繧峨○繧玖・蜉帙・
;-------------------------------------------------
@ABLUP_24T
#DIM ・們ｹ倬屮譏灘ｺｦ
#DIM ・們ｹ櫓XP
#DIM ・們ｹ俯ｳｴ・・

;・們ｹ倬屮譏灘ｺｦ險ｭ螳・
・們ｹ倬屮譏灘ｺｦ = POWER(2, ABL:・們ｹ・ * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・們ｹ櫓XP・ｨ・・
・們ｹ櫓XP = EXP:MASTER:・ｸ・懋ｲｽ嵭・+ EXP:MASTER:・們囎・誤攷・ｽ嵭・* 2
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・們ｹ・* 2 - 1 - CFLAG:・・尖壱ｲｨ)
・們ｹ俯ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・們ｹ俯峡・ｱ蛻､螳・
SIF (CUP:MASTER:・菩・+ CUP:MASTER:・們・- CUP:MASTER:・ｵ・ｸ + ・們ｹ櫓XP * 20 / ・們ｹ俯ｳｴ・・ > (・們ｹ倬屮譏灘ｺｦ * ABLUP_DIFFICULTY(24))
	CALL ABLUP_RISE(TARGET, 24)


;-------------------------------------------------
;・餓ぎABL
;縲狩ｴ餓ぎ・懦お・､閭ｽ蜉帙・
;-------------------------------------------------
@ABLUP_25T
#DIM ・餓ぎ髮｣譏灘ｺｦ
#DIM ・餓ぎEXP
#DIM ・餓ぎ・ｴ・・

;・餓ぎ髮｣譏灘ｺｦ險ｭ螳・
・餓ぎ髮｣譏灘ｺｦ = POWER(2, ABL:・餓ぎ) * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・餓ぎEXP・ｨ・・
・餓ぎEXP = EXP:MASTER:・ｬ・語ｲｽ嵭・+ EXP:MASTER:・們搆・ｽ嵭・+ EXP:MASTER:・餓ぎ・誤攷・ｽ嵭・* 2 + EXP:MASTER:・溢菩亨墲ｨ・ｽ嵭・* 3 + EXP:MASTER:・・母ｲｽ嵭・* 4
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・餓ぎ * 2 - 1 - CFLAG:・・尖壱ｲｨ)
・餓ぎ・ｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・餓ぎ・ｬ・ｱ蛻､螳・
SIF (CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ・・- CUP:MASTER:・倆墳 + ・餓ぎEXP * 10 / ・餓ぎ・ｴ・・ > (・餓ぎ髮｣譏灘ｺｦ * ABLUP_DIFFICULTY(25))
	CALL ABLUP_RISE(TARGET, 25)


;-------------------------------------------------
;・﨑僊BL
;-------------------------------------------------
@ABLUP_26T
#DIM ・﨑咎屮譏灘ｺｦ
#DIM ・﨑僞XP
#DIM ・﨑呱ｳｴ・・

;・﨑咎屮譏灘ｺｦ險ｭ螳・
・﨑咎屮譏灘ｺｦ = POWER(2, ABL:・﨑・ * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・﨑僞XP・ｨ・・
・﨑僞XP = EXP:MASTER:・ｴ・母ｲｽ嵭・+ EXP:MASTER:・奝ｵ・誤攷・ｽ嵭・* 2 + EXP:MASTER:・ｶ嶹菩棗・ｽ嵭・* 4 + EXP:MASTER:・｡嶹菩棗・ｽ嵭・* 4
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・﨑・* 2 - 1 - CFLAG:・・尖壱ｲｨ)
・﨑呱ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・﨑呱峡・ｱ蛻､螳・
SIF (CUP:MASTER:・奝ｵ + CUP:MASTER:・溢ｾ・- CUP:MASTER:・倆墳 + ・﨑僞XP * 10 / ・﨑呱ｳｴ・・ > (・﨑咎屮譏灘ｺｦ * ABLUP_DIFFICULTY(26))
	CALL ABLUP_RISE(TARGET, 26)


;-------------------------------------------------
;・ｴ・、BL
;-------------------------------------------------
@ABLUP_27T
#DIM ・ｴ・・屮譏灘ｺｦ
#DIM ・ｴ・・XP
#DIM ・ｴ・・ｳｴ・・

;・ｴ・・屮譏灘ｺｦ險ｭ螳・
・ｴ・・屮譏灘ｺｦ = POWER(2, ABL:・ｴ・・ * (100 - TALENT:・ｵ・晤ｹ・・* 20 + TALENT:・ｵ・晤叶・ｼ * 20)
;・ｴ・・XP・ｨ・・
・ｴ・・XP = EXP:MASTER:・ｴ・・ｲｽ嵭・
;・・尖壱ｲｨ縺御ｸ鷺ｰ懊＠縺ｦ縺・ｋ縺ｨEXP・ｴ・輔ｒ貂帙ｉ縺・1Lv縺ｫ縺､縺・/2)
LOCAL = (CFLAG:・・尖壱ｲｨ >= 20) ? 0 # (ABL:・ｴ・・* 2 - 1 - CFLAG:・・尖壱ｲｨ)
・ｴ・・ｳｴ・・= POWER(2, LOCAL < 0 ? 0 # LOCAL)

;・ｴ・・峡・ｱ蛻､螳・
SIF (SOURCE:MASTER:・ｴ夋・+ ・ｴ・・XP * 20 / ・ｴ・・ｳｴ・・ > (・ｴ・・屮譏灘ｺｦ * ABLUP_DIFFICULTY(27))
	CALL ABLUP_RISE(TARGET, 27)


;-------------------------------------------------
;・ｬ・ｭABL
;-------------------------------------------------
@ABLUP_28T
;・ｬ・ｭABL縺ｯ荳頑・縺励↑縺・證ｫ螳・


@ABLUP_RISE(・・・ ARG)
#DIM ・・・
ABL:・・・ARG++
IF ・・・== MASTER
	CALL KOJO_EVENT(23, ARG)
ELSEIF ・・・== TARGET
	CALL KOJO_EVENT(24, ARG)
ENDIF
;OriginalString : %CALLNAME:・・・縺ｮ%ABLNAME:ARG%\@ 20 <= ARG && ARG <= 29 ? 繧ｹ繧ｭ繝ｫ # \@縺圭@ ABL:・・・ARG > 9 ? {ABL:・・・ARG} # %TOFULL(TOSTR(ABL:・・・ARG))% \@・們来・､
PRINTFORMW %CALLNAME:・・・・・%ABLNAME:ARG%\@ 20 <= ARG && ARG <= 29 ? 繧ｹ繧ｭ繝ｫ # \@﨑們ｧ・圭@ ABL:・・・ARG > 9 ? {ABL:・・・ARG} # %TOFULL(TOSTR(ABL:・・・ARG))% \@・們来・､

@ABLUP_DIFFICULTY(ARG)
#FUNCTION
RETURNF 6
>>>>>>> d29239f180aad384a1e39d65cf6a8a750783a09d
