<<<<<<< HEAD
・ｿ@SOURCE_CHECK
#LOCALSIZE 20
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・・哩・吶↓繧医ｋ邊ｾ逾樒噪雋闕ｷ繧定ｨｭ螳夲ｼ亥慍縺ｮ譁・・・ｬ・√〒蜿ら・縺吶ｋ・・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・夋晤胸嵂壱共REACT縺ｮ雋闕ｷ繧剃ｿ晏ｭ・;豸郁ｲｻ・ｰ・･縺梧怙繧ゆｽ弱＞COM縺ｪ繧・縲∵ｶ郁ｲｻ・ｰ・･縺・00譛ｪ貅縺ｪ繧・縲√◎縺・〒縺ｪ縺代ｌ縺ｰ2
TFLAG:REACT・﨑・= GET_COMEFFORT(TRAINNAME:SELECTCOM)

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;REACT・・･倥↓繧医ｋ蠢ｫSOURCE遲雅ｳｴ・・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL REACT_TYPE_CHECK

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;螟画焚謨ｴ逅・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL SOURCE_CHECK_DEBUG("SOURCE.ERB螟・, 1)

;・俯・・・共繝ｻ・呷菩メ・､縺ｮ繝ｪ繧ｻ繝・ヨ
CVARSET TCVAR, 50, 0
CVARSET TCVAR, 51, 0

TFLAG:・・嚮・溢矯 = 0

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・・哩・吶↓繧医ｋ・ｰ・･豸郁ｲｻ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALLF COMABLE_CONT(TRAINNAME:SELECTCOM, 1)
DOWNBASE:MASTER:・ｰ・･ += COM_VITALITY(, TRAINNAME:SELECTCOM)
CALL SOURCE_CHECK_DEBUG("・・尖劇・・哩・・)

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;驕・ｻｶ・ｹ嵂壱共・・川梵嵂雅徐縺ｮ螳溯｡・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
RESULT = 0
;・・川梵嵂雅徐縺護｣・尖劇・√・嵂雅徐縺ｫ繧医▲縺ｦ蟾ｦ蜿ｳ縺輔ｌ繧句ｴ蜷医・蜃ｦ逅・CALL ACTION_APPLY2
SIF RESULT
;OriginalString : 
	PRINTW

;謌ｻ繧翫′1縺ｧ縺ｪ縺代ｌ縺ｰ蜻ｼ縺ｶ
IF RESULT != 1
	;@ACTION_APPLY2・・∝､悶・荳闊ｬ蜃ｦ逅・	CALL REACTION_MESSAGE
;OriginalString : 
	PRINTW
ENDIF
CALL SOURCE_CHECK_DEBUG("・・川梵・緋ｰ嵂雅徐")

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;譛崎脈縺ｪ縺ｩ縺ｫ繧医ｋ・誤ｳ繧ｲ繝ｼ繧ｸ逋ｺ逕・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・誤ｳ縺檎匱逕溘＠縺ｦ蛻昴ａ縺ｦMAXBASE:MASTER:・誤ｳ縺檎畑諢上＆繧後ｋ
;・ｰ・ｨ縲・境・昴↓・・箕縺輔ｌ繧・SIF BASE:MASTER:・誤ｳ > MAXBASE:MASTER:・誤ｳ
	MAXBASE:MASTER:・誤ｳ = 10000 - TALENT:MASTER:・ｰ・ｨ * 5000 + TALENT:MASTER:・ｫ・・* 5000

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・母ｳ・・・ｨ・懊・蜃ｦ逅・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・母ｳ・・・ｨ・應ｸｭ縺ｯ髢｢騾｣SOURCE縺ｫ繝懊・繝翫せ縺悟・繧・IF TFLAG:・母ｳ・・嵓誤椈・ｸ > 0
	TIMES SOURCE:MASTER:・奝ｵ , 1.25
	TIMES SOURCE:MASTER:・ｬ・・, 1.25
	TIMES SOURCE:MASTER:孖ｸ・ｼ・ｰ・・, 1.15
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・･・舌↓繧医ｋ荳贋ｸ九・蜃ｦ逅・ｼ亥燕蜊奇ｼ・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・･0縺ｧ蠢ｫ諢溘↓繝懊・繝翫せ
IF BASE:MASTER:・ｰ・･ <= 0
	TIMES SOURCE:MASTER:・鯉ｼ｣, 1.25
	TIMES SOURCE:MASTER:・鯉ｼｶ, 1.25
	TIMES SOURCE:MASTER:・鯉ｼ｡, 1.25
	TIMES SOURCE:MASTER:・鯉ｼ｢, 1.25
ENDIF

IF BASE:・ｰ・･ <= 0
	TIMES SOURCE:・鯉ｼ｣, 1.25
	TIMES SOURCE:・鯉ｼｶ, 1.25
	TIMES SOURCE:・鯉ｼ｡, 1.25
	TIMES SOURCE:・鯉ｼ｢, 1.25
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;蠢ｫ諢溘・繧ｽ繝ｼ繧ｹ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・阪・繝ｼ繝翫せ
;・ｰ・肴焚縺・縺壹▽蠅励∴縺ｦ縺・￥
;蜈・・蛟阪・↓蠅励∴縺ｦ縺溘￠縺ｩ縲∫洒譛滓ｱｺ謌ｦ縺ｫ謖√■霎ｼ縺ｾ繧後※繧る擇逋ｽ縺上↑縺・→諤昴▲縺溘・縺ｧ@縺薙ｌ縺ｿ
IF TFLAG:ACT == TFLAG:・БCT
	TFLAG:・呷攵嵂雅徐・ｴ・溢侃 += 1
ELSE
	TFLAG:・呷攵嵂雅徐・ｴ・溢侃 = 1
ENDIF
;・溢慕畑譁・ｭ怜・蛻晄悄蛹・VARSET STR, "", 1030, 1038

;蠢ｫ諢溽ｳｻ繧ｽ繝ｼ繧ｹ繧剃ｹ礼ｮ励☆繧玖｣・ｙ繧｢繧､繝・Β繧貞他縺ｳ蜃ｺ縺・CALL EQUIP_CHECK2

;SOURCE險育ｮ・SIF SOURCE:MASTER:・鯉ｼ｣ + SOURCE:MASTER:・鯉ｼｶ + SOURCE:MASTER:・鯉ｼ｡ + SOURCE:MASTER:・鯉ｼ｢ > 0
	CALL CALC_SOURCE00
CALL SOURCE_CHECK_DEBUG("SOURCE00")

SIF SOURCE:・鯉ｼ｣ + SOURCE:・鯉ｼｶ + SOURCE:・鯉ｼ｡ + SOURCE:・鯉ｼ｢ > 0
	CALL CALC_SOURCE40
CALL SOURCE_CHECK_DEBUG("SOURCE40")

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;陦檎ぜ繝ｻ邊ｾ逾槭・蜿榊ｿ懊・繧ｽ繝ｼ繧ｹ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
FOR LOCAL, 10, 40
	;SOURCE險育ｮ・	IF SOURCE:MASTER:LOCAL > 0
		CALLFORM CALC_SOURCE{LOCAL}
		CALL SOURCE_CHECK_DEBUG(@"SOURCE{LOCAL}")
	ENDIF
NEXT

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・俯ｳｴ・輔→縺・≧蜷阪・繧ｵ繝懊ｊ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・倥′・・川梵縺ｫ蜊泌鴨縺吶ｋ縺ｨ縲・｣・尖劇・√・蜈ｨUP縺・.5蛟阪↓縺ｪ繧・IF TFLAG:・ｰ・們攪・ｩ・ｨ == 1
	FOR LOCAL, 0, 14
		TIMES CUP:MASTER:LOCAL, 1.50
	NEXT
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・√・蜿榊ｿ懊↓繧医ｋ螟牙虚・域怙蛻昴・縺薙ｌ縺後↑縺九▲縺溘′繧医ｊ豁｣縺励￥・・尖劇・√・陦檎ぜ繧貞渚蠢懊☆繧九◆繧√ｄ繧蠕励↑縺剰ｿｽ蜉縺励∪嵂壱共・・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・語ｰ川揆 ・幗符・､・ｸ・､/・溢乱 ・ｴ!
IF IS_NOWCOMNAME("・語ｰ川揆 ・幗符・､・ｸ・､/・溢乱 ・ｴ!/・・醐紛・假ｼ・)
	TIMES CUP:MASTER:・ｵ・・, 1.10
	TIMES CUP:MASTER:・溢ｾ・, 0.50
	TIMES CUP:MASTER:・ｵ・ｸ , 0.25
;・・Η﨑俾ｲ・・瀧況﨑罹共/・・ｷｹ・・愍・・﨑罹共
ELSEIF IS_NOWCOMNAME("・・Η﨑俾ｲ・・瀧況﨑罹共/・・ｷｹ・・愍・・﨑罹共")
	TIMES CUP:MASTER:・倆墳 , 0.80
	TIMES CUP:MASTER:・溢ｾ・, 0.60
	TIMES CUP:MASTER:・ｵ・ｸ , 0.20
;・・菩揆 ・ｴ・・﨑罹共/・・﨑俯糖﨑俾ｲ・﨑ｴ/・ｰ・・｢苦ｲ・﨑ｴ
ELSEIF IS_NOWCOMNAME("・・菩揆 ・ｴ・・﨑罹共/・・﨑俯糖﨑俾ｲ・﨑ｴ/・ｰ・・・躯共!/・ｰ・・｢苦ｲ・﨑ｴ")
	TIMES CUP:MASTER:・ｵ尞ｬ , 0.50
	TIMES CUP:MASTER:・ｵ・・, 1.25
	TIMES CUP:MASTER:・溢ｾ・, 0.20
	TIMES CUP:MASTER:・ｵ・ｸ , 0.05
	TFLAG:嶸ｸ・尖巡・・+= 1
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;逶ｸ諤ｧ縺ｫ繧医ｋ荳贋ｸ九・蜃ｦ逅・・ｸ・ｬ嶸・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;R = NO:PLAYER
;IF RELATION:R != 0
;	PRINTFORML ・懃嶌諤ｧ{RELATION:R/100}.{RELATION:R%100}蛟搾ｼ・;ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・川梵縺ｮ・ｴ・･/・ｰ・･霑ｽ蜉豸郁ｲｻ・域怙蛻昴・繧ｽ繝ｼ繧ｹ縺縺代〒縺薙ｌ繧定ｧ｣豎ｺ嵂壱共縺九▲縺溘′縺・∪縺剰｡ｨ迴ｾ縺ｧ縺阪∪縺帙ｓ縺ｧ嵂壱共窶ｦ・・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;ACT・・･・縺ｾ縺溘・ <ACT>

;巐醐剩/<・､・・
IF TFLAG:ACT・・･・== 0 || IS_NOWACTNAME("・､・・)
	DOWNBASE:・ｰ・･ += 25
;・・ｴ
ELSEIF TFLAG:ACT・・･・== 1
	DOWNBASE:・ｴ・･ += 30
	DOWNBASE:・ｰ・･ += 50
;・・ｵｬ
ELSEIF TFLAG:ACT・・･・== 2
	DOWNBASE:・ｴ・･ += 40
	DOWNBASE:・ｰ・･ += 35
;・ｱ・・ELSEIF TFLAG:ACT・・･・== 3
	DOWNBASE:・ｴ・･ += 60
	DOWNBASE:・ｰ・･ += 50
;・們ｹ・ELSEIF TFLAG:ACT・・･・== 4
	;<・川怱・ｼ・・
	SIF IS_NOWACTNAME("・川怱・ｼ・・)
		DOWNBASE:・ｰ・･ += 40
	;<・們ｹ倆伯・溢擽>/<・ｼ・ｸ嵓誤溢擽>
	SIF IS_NOWACTNAME("・們ｹ倆伯・溢擽/・ｼ・ｸ嵓誤溢擽")
		DOWNBASE:・ｴ・･ += 40
	DOWNBASE:・ｴ・･ += 15
	DOWNBASE:・ｰ・･ += 40
;・餓ぎ
ELSEIF TFLAG:ACT・・･・== 5
	;<・ｴ・ｼ・溢ｹ們丶>
	SIF IS_NOWACTNAME("・ｴ・ｼ・溢ｹ們丶")
		DOWNBASE:・ｰ・･ += 40
	DOWNBASE:・ｴ・･ += 5
	DOWNBASE:・ｰ・･ += 30
;・﨑・<・､・・
ELSEIF TFLAG:ACT・・･・== 6 && !IS_NOWACTNAME("・､・・)
	DOWNBASE:・ｴ・･ += 50
	DOWNBASE:・ｰ・･ += 15
;・ｴ・・<・ｩ・倆伯・溢擽>
ELSEIF TFLAG:ACT・・･・== 7 && !IS_NOWACTNAME("・ｩ・倆伯・溢擽")
	DOWNBASE:・ｴ・･ += 35
	DOWNBASE:・ｰ・･ += 60
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・･・舌↓繧医ｋ荳贋ｸ九・蜃ｦ逅・ｼ亥ｾ悟濠・・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・・ｸｰ・･0譎ゅ∝柑譫懊↓繝懊・繝翫せ
IF BASE:MASTER:・ｰ・･ <= 0
	TIMES CUP:MASTER:・菩・, 1.40
	TIMES CUP:MASTER:・ｵ尞ｬ , 1.20
	TIMES CUP:MASTER:・倆墳 , 0.60
	TIMES CUP:MASTER:・溢ｾ・, 0.80
ENDIF

LOCAL = DOWNBASE:MASTER:・ｰ・･ - BASE:MASTER:・ｰ・･
;・﨑ｭ・壱冠縺ｪ繧・IF TFLAG:・﨑ｭ・壱冠
	;・ｰ・･縺ｯ貂帙ｉ縺壹↓・ｴ・･縺ｫ縺ｾ繧上＆繧後ｋ
	DOWNBASE:MASTER:・ｴ・･ += DOWNBASE:MASTER:・ｰ・･
	DOWNBASE:MASTER:・ｰ・･ = 0
;・ｰ・･縺瑚ｲ縺ｫ縺ｪ繧区ｸ帛ｰ鷹㍼縺ｪ繧・ELSEIF LOCAL > 0
	;・ｰ・･貂帛ｰ鷹㍼縺ｮ1/4縺護ｲｴ・･縺ｫ縺ｾ繧上＆繧後・擽・ｱ繧よｸ帛ｰ代☆繧・	DOWNBASE:MASTER:・ｴ・･ += LOCAL
	DOWNBASE:MASTER:・ｴ・ｱ += LOCAL / 2
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・√・繧ｲ繝ｼ繧ｸ縺ｮ螟牙虚
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
BASE:MASTER:・ｴ・･ -= DOWNBASE:MASTER:・ｴ・･
BASE:MASTER:・ｰ・･ -= DOWNBASE:MASTER:・ｰ・･
BASE:MASTER:・ｬ・・-= DOWNBASE:MASTER:・ｬ・・BASE:MASTER:・ｨ・ -= DOWNBASE:MASTER:・ｨ・
BASE:MASTER:・誤ｳ -= DOWNBASE:MASTER:・誤ｳ
;・ｴ・ｱ貂帛ｰ鷹㍼・ｴ・・SIF TALENT:MASTER:・川懍峡
	TIMES DOWNBASE:MASTER:・ｴ・ｱ , 0.75
SIF TALENT:MASTER:・ｩ・呷・	TIMES DOWNBASE:MASTER:・ｴ・ｱ , 1.25
BASE:MASTER:・ｴ・ｱ -= DOWNBASE:MASTER:・ｴ・ｱ

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・川梵縺ｮ繧ｲ繝ｼ繧ｸ縺ｮ螟牙虚
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;彧･・ｸ縺ｮ蜃ｦ逅・・｣・尖劇・√・蜿榊ｿ懊ｄ・嶹斐ｒ隕九○縺ｪ縺・→縺､縺ｾ繧峨↑縺・
;LOCAL:1 = 閧ｯ螳夂ｳｻ險・LOCAL:1 = SOURCE:MASTER:・ｴ・・+ SOURCE:MASTER:・ｬ・ｱ + SOURCE:MASTER:・ｴ・ｽ
;LOCAL:2 = ・誤攷邉ｻ險・LOCAL:2 = CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ + CUP:MASTER:・菩・;LOCAL:3 = ・懍｢・ｳｻ險・LOCAL:3 = CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ尞ｬ + CUP:MASTER:・ｵ・・+ CUP:MASTER:・奝ｵ + CUP:MASTER:・們・;LOCAL:4 = 謚ｵ謚礼ｳｻ險・LOCAL:4 = CUP:MASTER:・倆墳 * 2 + CUP:MASTER:・溢ｾ・+ CUP:MASTER:・ｵ・ｸ
;LOCAL:5 = ・・川梵・誤攷邉ｻ險・	縺薙ｌ縺後≠縺｣縺ｦ繧り憶縺・ｰ励′嵂壱共縺ｮ縺ｧ霑ｽ蜉縺励※縺ｿ繧機/L
LOCAL:5 = CUP:・鯉ｼ｣ + CUP:・鯉ｼｶ + CUP:・鯉ｼ｡ + CUP:・鯉ｼ｢
;閧ｯ螳・・誤攷/・懍｢・ｳｻ險医・縺・★繧後°縺瑚ｦ丞ｮ壼､縺ｫ驕斐＠縺ｦ縺・ｌ縺ｰ彧･・ｸ蠅怜刈
;(・ｴ・・ｬ縺ｫ繝槭う繝翫せ縲・从・ｰ・ｬ縺ｫ繝励Λ繧ｹ・ｴ・・
LOCAL = MAX(LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:5)
BASE:彧･・ｸ += LINE_CALC(LOCAL, "300竊・0,1500竊・0,LIMIT/10・・0") + (TALENT:嶸ｸ・ｰ・ｬ - TALENT:・ｴ・・ｬ) * LINE_CALC(LOCAL, "300竊・,1500竊・0,LIMIT/5・・0")

;・ｼ・舌・・・川梵縺ｯ雋縺ｮ蜿榊ｿ懊↓縺・ｓ縺悶ｊ
;・ｼ・先凾縲∵慣謚礼ｳｻ險医′隕丞ｮ壼､縺ｫ驕斐＠縺ｦ縺・ｌ縺ｰ彧･・ｸ貂帛ｰ・SIF TALENT:・ｼ・・	BASE:彧･・ｸ -= LINE_CALC(LOCAL:4, "0竊・,1500竊・50,LIMIT/0・・50")

;閾ｪ辟ｶ・誤ｪｨ
;(彧･・ｸ縺・/3繧貞・繧九→・誤ｪｨ騾溷ｺｦ縺御ｸ九′繧・
;・・尖壱ｲｨ縺ｫ繧医ｋ・誤ｪｨ蜉騾溘ｒ繧ｪ繝溘ャ繝逸毎・､迚・;縺薙ｌ讖滓｢ｰ逧・☆縺弱※縺ｲ縺ｩ縺・↑・・IF BASE:彧･・ｸ > MAXBASE:彧･・ｸ / 3
	BASE:彧･・ｸ -= MAXBASE:彧･・ｸ * 20 / 200
ELSE
	BASE:彧･・ｸ -= MAXBASE:彧･・ｸ * 20 / 300
ENDIF

;彧･・ｸ繧・-MAXBASE縺ｮ遽・峇縺ｫ蜿弱ａ繧・BASE:彧･・ｸ = LIMIT(BASE:彧･・ｸ, 0, MAXBASE:彧･・ｸ)

;彧･・ｸ菴惹ｸ九↓繧医ｋ・ｰ・･・誤ｪｨ
;(豢ｻ逋ｺ縺ｪ・ｱ・ｩ縺ｧ縺ゅｋ縺ｻ縺ｩ・ｰ・･・誤ｪｨ驥上・螟ｧ縺阪＞)
SIF BASE:彧･・ｸ < 200
	DOWNBASE:・ｰ・･ += (300 - BASE:彧･・ｸ) / (10 + TALENT:・ｴ・・ｬ * 3 - TALENT:嶸ｸ・ｰ・ｬ * 3 + TALENT:・川母ｲｰ・ｬ * 2 - TALENT:・菩・・・* 2)

;・溢｡ｰ﨑ｨ縺ｮ蜃ｦ逅・;謚ｵ謚礼ｳｻ險医°繧雅ｳｴ・輔＠縺ｦ・溢｡ｰ﨑ｨ繧堤ｮ怜・
DOWNBASE:・溢｡ｰ﨑ｨ -= LIMIT(LOCAL:4 / 15, 20, 100) + (TALENT:・ｼ・・- TALENT:・・啄物) * LIMIT(LOCAL:4 / 75 + 5, 10, 25) + (TALENT:・ｴ・ｩ・・- TALENT:・護・復) * LIMIT(LOCAL:4 / 150, 2, 10)

;・・・・・ｴ・､/隕∵ｱゅｒ・ｰ・
;(REACT譎らｴ雉ｪ縺ｫ繧医▲縺ｦ霑ｽ蜉・ｴ・・
IF IS_COMGRONAME("・ｩ・罹･ｼ ・誤共")
	DOWNBASE:・溢｡ｰ﨑ｨ -= 25 - TALENT:・溢搆・ｨ・ｩ﨑・* 25 + TALENT:・ｬ・・ゎ搆 * 10 + TALENT:・壱糖 * 25 - TALENT:MASTER:・ｰ・ｨ * 5 - TALENT:MASTER:・溢・ * 10 + PALAM:MASTER:・倆墳 / 250
ELSEIF IS_COMGRONAME("・・ｴ・､")
	DOWNBASE:・溢｡ｰ﨑ｨ -= 50 + PALAM:MASTER:・倆墳 / 200 - TALENT:・・啄物 * 15 + TALENT:・ｼ・・* 20 + TALENT:嵓・攵・ｴ・罹・・・* 20 + MARK:・倆墳・・攤 * 2
ELSEIF IS_COMGRONAME("・ｰ・")
	DOWNBASE:・溢｡ｰ﨑ｨ -= 25 + PALAM:MASTER:・ｴ・ｵ / 200 - TALENT:・・啄物 * 25 + TALENT:・ｼ・・* 15 + TALENT:・溢搆・ｨ・ｩ﨑・* 5 + TALENT:嵓・攵・ｴ・罹・・・* 10 + MARK:・ｴ・ｵ・・攤
ENDIF

;・滝ｸｰ縺ｧ繝ｩ繝ｳ繝繝螟牙虚縲√％縺ｮ險ｭ螳壹↓雉帛酔縺ｧ縺阪↑縺・ｺｺ縺ｯ縺九↑繧翫＞繧九°繧ゅ＠繧後∪縺帙ｓ窶ｦ
SIF TALENT:・滝ｸｰ
	DOWNBASE:・溢｡ｰ﨑ｨ -= (10 - RAND:20) * (1 + RAND:10)

;・溢｡ｰ﨑ｨ譎ゅ・｣・尖劇・√′・懍｢・〒縺ゅｌ縺ｰ・護｡ｱ蠎ｦ縺ｫ蠢懊§縺ｦ・溢｡ｰ﨑ｨ貂幄｡ｰ
SIF DOWNBASE:・溢｡ｰ﨑ｨ > MAXBASE:・溢｡ｰ﨑ｨ / 3 && CUP:MASTER:・倆墳 < 10
	DOWNBASE:・溢｡ｰ﨑ｨ += BASE:・護｡ｱ / 20

;・・・譎ゅ・｣・仙ｼｷ蠎ｦ縺ｫ蠢懊§縺ｦ・溢｡ｰ﨑ｨ貂幄｡ｰ
IF TCVAR:・・・・嶹・== 6
	;・ｵ・罹ｳｴ・・	LOCAL = CUP:MASTER:・ｵ・・* POWER(2, TALENT:・溢搆・ｨ・ｩ﨑・- TALENT:・ｬ・・ゎ搆 + 10) / 1024
	;・ｴ・ｵ・ｴ・・	LOCAL += (CUP:MASTER:・ｴ・ｵ + MARK:・ｴ・ｵ・・攤 * 50) * POWER(2, TALENT:・肥ｧ・+ 10) / 1024
	DOWNBASE:・溢｡ｰ﨑ｨ += LOCAL
ENDIF

;BASE蛟､螟牙虚蜃ｦ逅・BASE:・ｴ・･ -= DOWNBASE:・ｴ・･
BASE:・ｰ・･ -= DOWNBASE:・ｰ・･
BASE:・ｬ・・-= DOWNBASE:・ｬ・・BASE:・ｨ・ -= DOWNBASE:・ｨ・
BASE:・誤ｳ -= DOWNBASE:・誤ｳ

;縺・ｉ縺・ｉ縺ｫ繧医ｋ・ｴ・ｱ・誤ｪｨ
;縺昴・蛻・□縺卓ｴ溢｡ｰ﨑ｨ貂幄｡ｰ
;・ｴ・ｱ0譎ゅ・縺昴・蜊雁・縺輔ｉ縺ｫ・溢｡ｰ縺､
IF BASE:・溢｡ｰ﨑ｨ > 700
	LOCAL = (BASE:・溢｡ｰ﨑ｨ - 500) / (5 + TALENT:・滝ｸｰ * RAND:3)
	IF BASE:・ｴ・ｱ > 0
		DOWNBASE:・ｴ・ｱ += LOCAL
		DOWNBASE:・溢｡ｰ﨑ｨ += LOCAL
	ELSE
		DOWNBASE:・溢｡ｰ﨑ｨ -= LOCAL / 2
	ENDIF
ENDIF
;BASE蛟､螟牙虚蜃ｦ逅・BASE:・溢｡ｰ﨑ｨ -= DOWNBASE:・溢｡ｰ﨑ｨ
;・溢｡ｰ﨑ｨ繧・-MAXBASE縺ｮ遽・峇縺ｫ蜿弱ａ繧・BASE:・溢｡ｰ﨑ｨ = LIMIT(BASE:・溢｡ｰ﨑ｨ, 0, MAXBASE:・溢｡ｰ﨑ｨ)

;・ｴ・ｱ貂帛ｰ鷹㍼縺檎ｴ雉ｪ縺ｫ繧医▲縺ｦ・ｴ・輔＆繧後ｋ
SIF TALENT:・川懍峡
	TIMES DOWNBASE:・ｴ・ｱ , 0.75
SIF TALENT:・ｩ・呷・	TIMES DOWNBASE:・ｴ・ｱ , 1.25
;BASE蛟､螟牙虚蜃ｦ逅・BASE:・ｴ・ｱ -= DOWNBASE:・ｴ・ｱ

;BASE蛟､螟牙虚蜃ｦ逅・BASE:・護｡ｱ -= DOWNBASE:・護｡ｱ

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;繧ｳ繝槭Φ繝牙ｮ溯｡梧凾縺ｮ・ｬ・・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL KOJO_REACT

IF TCVAR:MASTER:REACT・川┷・嶹・	PRINTL 
	CALL POSE_SHOW
	TCVAR:MASTER:REACT・川┷・嶹・= 0
ENDIF
DRAWLINE

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・溢墓凾縺ｮ・ｬ・・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
PRINTL 
FLAG:・・ｸ・懍牟 = 0
RESULT = 0
;繝薙ャ繝亥柱縺ｧ縺ｮ謖・ｮ壹′荳榊・蜷医・貂ｩ蠎翫↓縺ｪ縺｣縺ｦ繧区ｰ鈴・縺後≠縺｣縺溘・縺ｧ逵∫払縺励※縺ｿ繧機/L
;・ｵ・卓悖・・ｰ嵓誤溢擽譎ゅ・蜻ｼ縺ｳ蜃ｺ縺励・隕丞宛縺吶ｋ //1.1series縺ｾ縺ｧ縺ｮ證ｫ螳壼・鄂ｮ縲√→縺・≧縺薙→縺ｧ@/L
SIF !IS_NOWACTNAME("・ｵ・卓悖・・ｰ嵓誤溢擽") && (MASTER_EX() || TARGET_EX())	;MASTER_EX(79) || TARGET_EX(15)
	CALL KOJO_EVENT(20)
IF RESULT
	PRINTL 
	DRAWLINE
ENDIF

RESULT = 0
SIF MASTER_EX(4) || TARGET_EX(4)
	CALL KOJO_EVENT_ASSI(20)

RESULT = 0
IF MASTER_EX(8) || TARGET_EX(8)
	ASSI = ASSI:2
	CALL KOJO_EVENT_ASSI(20)
	ASSI = ASSI:1
ENDIF

;RESULT = 0
;IF MASTER_EX(16) || TARGET_EX(16)
;	ASSI = ASSI:3
;	CALL KOJO_EVENT_ASSI(20)
;	ASSI = ASSI:1 < 0 ? ASSI:3 # ASSI:1
;ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・溢暮未騾｣縺ｮ陦ｨ遉ｺ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL PRINT_SOURCE00_40

;・們｡ｴ・・・險育ｮ・VARSET LOCAL
;・ｬ・賓r・｣・溢輔→莉厄ｼ鍋ｨｮ・溢輔・蜥後〒險育ｮ・LOCAL = (MASTER_EX(, 1) || MASTER_EX(, 12)) + MASTER_EX(, 3) + MASTER_EX(, 3) + MASTER_EX(, 4)
;・剃ｹ励・・托ｼ仙阪ｒ蝓ｺ遉主､縺ｨ縺吶ｋ
LOCAL = LOCAL*LOCAL*10
;・ｩ・ｨ繝ｻ・・悛縺ｧ繧・10縺吶ｋ
LOCAL += (MASTER_EX(, 11) + MASTER_EX(, 13)) * 10
;・ｼ・ｸ・倥↓・壱ざ・ｬ・輔＆繧後※縺・ｌ縺ｰ20繧貞刈縺医ｋ
LOCAL += TE_PLAYER(1) == 4 && TE_PLAYER(0) == 1 ? 20 # 0

;・ｬ・賓r・｣・溢輔→莉厄ｼ鍋ｨｮ・溢輔・蜥後〒險育ｮ・LOCAL:1 = (TARGET_EX(, 1) || TARGET_EX(, 12)) + TARGET_EX(, 3) + TARGET_EX(, 3) + TARGET_EX(, 4)
;・剃ｹ励・・托ｼ仙阪ｒ蝓ｺ遉主､縺ｨ縺吶ｋ
LOCAL:1 = LOCAL:1*LOCAL:1*10
;・・悛縺ｧ繧・10縺吶ｋ
LOCAL:1 += TARGET_EX(, 11) * 10
;・ｸ・医↓・壱ざ・ｬ・輔＆繧後※縺・ｌ縺ｰ20繧貞刈縺医ｋ
LOCAL:1 += ME_PLAYER(1) == 4 && ME_PLAYER(0) == 2 ? 20 # 0

;・們｡ｴ・・ｳ嶹・CALL ADD_DEPEND(LOCAL:1, LOCAL)


;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・ｴ・們牟・千ｵゆｺ・;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;IF (SUMARRAY(NOWEX, 0, 4) || NOWEX:MASTER:・ｬ・・ && TEQUIP:・・ｴ・們牟・・肥､・== 1
IF (NOWEX:MASTER:・｣・溢・|| NOWEX:MASTER:・ｶ・溢・|| NOWEX:MASTER:・｡・溢・|| NOWEX:MASTER:・｢・溢・|| NOWEX:MASTER:・ｬ・・ && TEQUIP:・・ｴ・們牟・・肥､・== 1
	TEQUIP:・・ｴ・們牟・・肥､・= 0
	TFLAG:・・ｴ・們牟・専ｲｽ・ｼ = TFLAG:・ｽ・ｼ・懋ｰ・	PRINTFORMW %CALLNAME:TARGET%・(・・ %CALLNAME:MASTER%(・・・ｼ ・溢・・懍ｼ・・護｡ｱ﨑・・・・呱共窶ｦ
ENDIF
IF TFLAG:・・ｴ・們牟・専ｲｽ・ｼ && (TFLAG:・ｽ・ｼ・懋ｰ・- TFLAG:・・ｴ・們牟・専ｲｽ・ｼ) > 15 && TEQUIP:・・ｴ・們牟・・肥､・	TEQUIP:・・ｴ・們牟・・肥､・= 0
	TFLAG:・・ｴ・們牟・専ｲｽ・ｼ = TFLAG:・ｽ・ｼ・懋ｰ・	PRINTFORMW %CALLNAME:TARGET%・(・・ %CALLNAME:MASTER%(・・・ｼ ・ｰ・､・罷株 ・護｡ｱ﨑・・・・呱共窶ｦ
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・攤・ｨ・昴・繝√ぉ繝・け縲√◎縺励※・・攤縺ｫ繧医ｋ邏雉ｪ螟牙虚
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL MARK_CHECK_SOURCE

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｽ嵭倥・繝√ぉ繝・け縲・｣・舌た繝ｼ繧ｹ縺ｮ陦ｨ遉ｺ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL EXP_CHECK
FOR LOCAL, 0, 50
	PRINTFORM \@ SOURCE:MASTER:LOCAL > 0 ? %SOURCENAME:LOCAL%({SOURCE:MASTER:LOCAL}) # \@
NEXT
FOR LOCAL, 0, 50
	PRINTFORM \@ SOURCE:LOCAL > 0 ? ・・川梵%SOURCENAME:LOCAL%({SOURCE:LOCAL}) # \@
NEXT
PRINTL 

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;謨ｰ蛟､螟牙虚縺ｮ陦ｨ遉ｺ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;逶ｸ諤ｧ
;SIF RELATION:(NO:PLAYER) && RELATION:(NO:PLAYER) != 100
;	PRINTFORML ・懃嶌諤ｧ%TOSTR(RELATION:(NO:PLAYER), "0\\.00")%蛟搾ｼ・
;・ｴ・･繝ｻ・ｰ・･縺ｮ貂帛ｰ・PRINTFORML ・ｴ・･-{DOWNBASE:MASTER:・ｴ・･} ・ｰ・･-{DOWNBASE:MASTER:・ｰ・･} ・ｴ・ｱ-{DOWNBASE:MASTER:・ｴ・ｱ}
PRINTFORML ・・CALLNAME:TARGET%・餓ｲｴ・･-{DOWNBASE:・ｴ・･} ・ｰ・･-{DOWNBASE:・ｰ・･}

;CUP:MASTER:・奝ｵ縺ｮ1/30繧庭ｧ壱･縺ｨ縺励※・ｨ・・TFLAG:・ｨ・晤ｧ壱･ += CUP:MASTER:・奝ｵ / 30

;・ｴ・･繝ｻ・ｰ・･・舌・半尞舌・繝｡繝・そ繝ｼ繧ｸ繧ゅ≠繧九・縺ｧ縺薙ｌ縺ｯ﨑・囈縺ｪ縺・→諤昴＞縺ｾ縺・;SIF BASE:MASTER:・ｴ・･ <= 0
;	PRINTL 笘・ｲｴ・･・絶・
;SIF BASE:MASTER:・ｰ・･ <= 0
;	PRINTL 笘・ｸｰ・･・絶・
;SIF BASE:・ｴ・･ <= 0
;	PRINTL 笘・ｲｴ・･・絶・・溢｣・川梵・・;SIF BASE:・ｰ・･ <= 0
;	PRINTL 笘・ｸｰ・･・絶・・溢｣・川梵・・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;閭ｽ蜉帑ｸ頑・縺ｮ蜻ｼ縺ｳ蜃ｺ縺・;縺薙％縺ｧ縺ｯ螟ｧ縺ｾ縺九↑譚｡莉ｶ縺ｧ邨槭ｊ縲∬ｩｳ邏ｰ縺ｪ蛻､螳壹・ABLUP_**髢｢謨ｰ縺ｧ陦後≧
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏

;・・尖劇・∬・蜉・
;・懍｢・;・ｴ・ｵ + ・ｵ・懊√∪縺溘・・ｵ尞ｬ縺御ｸ頑・縺励※縺・ｋ譎・;縺ｾ縺溘・｣・尖劇・√・蜿榊ｿ懊′ ・・ｴ・､/隕∵ｱゅ↓蠢懊§縺ｪ縺・縺ｧ縺ゅｌ縺ｰ蛻､螳壹＠縺ｪ縺・SIF (CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ・・> 0 || CUP:MASTER:・ｵ尞ｬ > 0) && TFLAG:REACT・・･・< 6
	CALL ABLUP_0M
;・簿ｧ・;・菩穂ｸ頑・譎・SIF CUP:MASTER:・菩・> 0
	CALL ABLUP_1M
;・ｰ・・;・ｰ・川､大ｮｹ縺誤ｴ餓ぎ邉ｻ縺ｧ縺ゅｊ縲・｣・川梵縺悟ｿｫ諢溘ｒ蠕励◆譎・SIF TFLAG:ACT・・･・== 5 && CUP:・鯉ｼ｣ + CUP:・鯉ｼｶ + CUP:・鯉ｼ｡ + CUP:・鯉ｼ｢ > 0
	CALL ABLUP_2M
;・ｸ・専ｰ・;・・尖劇・√′蠢ｫ諢溘ｒ蠕励◆譎・FOR LOCAL, 0, 4
	SIF CUP:MASTER:LOCAL > 0
		CALLFORM ABLUP_{3 + LOCAL}M
NEXT
;・餓ぎ・菩侠
;・ｰ・川､大ｮｹ縺誤ｴ餓ぎ邉ｻ/・ｱ・尖ｴ餓ぎ縺ｧ縺ゅｋ縺九・｣・川梵・ｽ・・､台ｽ謎ｽ阪′・ｰ・ｹ・・〒縺ゅｋ蝣ｴ蜷・;縺ｪ縺翫°縺､・・尖劇・√′・・ｷｹ・・愍・懷ｾ薙＞縲∝ｿｫ諢・・菩募粋險医′1000遯∫ｴ
SIF (TFLAG:ACT・・･・== 5 || TFLAG:ACT・・･・== 10  || TEQUIP:・ｱ・川､・== 3 ) && IS_COMGRONAME("・・ｷｹ・・愍・・﨑罹共") && CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ + CUP:MASTER:・菩・> 1000
	CALL ABLUP_7M
;・ｸ・懍ｦ・;逞ｴ諠・ｸ頑・譎・SIF CUP:MASTER:・們・> 0
	CALL ABLUP_8M
;・溢ｦ壱⊂
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ縺ｧ縺ｯ縺ｪ縺・SIF TALENT:MASTER:・ｨ・・== 0 && TALENT:・ｨ・・== 0
	CALL ABLUP_9M
;・｢・ｬ・ｼ
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ
SIF TALENT:MASTER:・ｨ・・&& TALENT:・ｨ・・	CALL ABLUP_10M
;・溢｡ｰ・ｼ
;・奝ｵ + ・溢ｾ御ｸ頑・驥上′・ｵ・ｸ荳頑・驥上ｒ荳雁屓繧・SIF CUP:MASTER:・奝ｵ + CUP:MASTER:・溢ｾ・> CUP:MASTER:・ｵ・ｸ
	CALL ABLUP_11M
;・川怱・瀧遵
;・・尖劇・・梵・・､・SIF GETBIT(TEQUIP:・川怱・・ 0)
	CALL ABLUP_12M
;・菩複・瀧遵
;・・川梵縺ｾ縺溘・・・尖劇・√′・ｬ・・SIF NOWEX:・ｬ・・|| NOWEX:MASTER:・ｬ・・	CALL ABLUP_13M
;・溢ｦ溢､瀧遵
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ縺ｧ縺ｯ縺ｪ縺・SIF TALENT:MASTER:・ｨ・・== 0 && TALENT:・ｨ・・== 0
	CALL ABLUP_14M
;・奝ｵ・瀧遵
;・奝ｵ荳頑・驥上′・ｵ・ｸ荳頑・驥上ｒ荳雁屓繧・SIF CUP:MASTER:・奝ｵ > CUP:MASTER:・ｵ・ｸ
	CALL ABLUP_15M
;・ｬ・作､瀧遵
;・・尖劇・√′菴輔ｉ縺九・・ｬ・阪ｒ蜿励￠繧・SIF TEQUIP:・ｧ・・|| TEQUIP:・一ｰ・ｬ・・|| TEQUIP:・ｼ・懋ｷｸ || TEQUIP:・ｼ・・ｪｩ・・	CALL ABLUP_16M

;・・川梵閭ｽ蜉・
;・簿ｧ・;・・川梵縺悟ｿｫ諢溘ｒ蠕励◆譎・SIF CUP:・鯉ｼ｣ + CUP:・鯉ｼｶ + CUP:・鯉ｼ｡ + CUP:・鯉ｼ｢ > 0
	CALL ABLUP_1T
;・ｰ・・;・・尖劇・・溢墓凾
SIF NOWEX:MASTER:・｣・溢・+ NOWEX:MASTER:・ｶ・溢・+ NOWEX:MASTER:・｡・溢・+ NOWEX:MASTER:・｢・溢・> 0
	CALL ABLUP_2T
;・ｸ・専ｰ・;・・川梵縺悟ｿｫ諢溘ｒ蠕励◆譎・FOR LOCAL, 0, 4
	SIF CUP:LOCAL > 0
		CALLFORM ABLUP_{3 + LOCAL}T
NEXT
;・餓ぎ・菩侠
;・ｰ・川､大ｮｹ縺護腹・ｴ/・・ｵｬ邉ｻ
SIF TFLAG:ACT・・･・== 1 || TFLAG:ACT・・･・== 2
	CALL ABLUP_7T
;・ｸ・懍ｦ・;迴ｾ蝨ｨ譚｡莉ｶ縺ｪ縺・;SIF ???
	;CALL ABLUP_8T
;・溢ｦ壱⊂
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ縺ｧ縺ｯ縺ｪ縺・SIF TALENT:MASTER:・ｨ・・== 0 && TALENT:・ｨ・・== 0
	CALL ABLUP_9T
;・｢・ｬ・ｼ
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ
SIF TALENT:MASTER:・ｨ・・&& TALENT:・ｨ・・	CALL ABLUP_10T
;・菩複・瀧遵
;・・川梵縺ｾ縺溘・・・尖劇・√′・ｬ・・SIF NOWEX:・ｬ・・|| NOWEX:MASTER:・ｬ・・	CALL ABLUP_13T
;・溢ｦ溢､瀧遵
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ縺ｧ縺ｯ縺ｪ縺・SIF TALENT:MASTER:・ｨ・・== 0 && TALENT:・ｨ・・== 0
	CALL ABLUP_14T
;・・千ｳｻ蛻玲橿閭ｽ
;蟇ｾ蠢懊☆繧駆｣・千ｳｻ蛻励↓縺､縺・※蛻､螳・SIF 0 <= TFLAG:ACT・・･・&& TFLAG:ACT・・･・<= 8
	CALLFORM ABLUP_{20 + TFLAG:ACT・・･・T
;・ｱ・・;・ｰ・川､大ｮｹ縺護┳・尖ｴ餓ぎ邉ｻ
SIF TFLAG:ACT・・･・== 10
	CALL ABLUP_23T

@SOURCE_CHECK_DEBUG(ARGS, ARG)
RETURN 0
SIF ARG
	VARSET LOCAL
NOSKIP
	PRINTFORML %ARGS% {DOWNBASE:MASTER:・ｰ・･}(+{DOWNBASE:MASTER:・ｰ・･ - LOCAL})
ENDNOSKIP
LOCAL = DOWNBASE:MASTER:・ｰ・･
RETURN 0
=======
・ｿ@SOURCE_CHECK
#LOCALSIZE 20
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・・哩・吶↓繧医ｋ邊ｾ逾樒噪雋闕ｷ繧定ｨｭ螳夲ｼ亥慍縺ｮ譁・・・ｬ・√〒蜿ら・縺吶ｋ・・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・夋晤胸嵂壱共REACT縺ｮ雋闕ｷ繧剃ｿ晏ｭ・
;豸郁ｲｻ・ｰ・･縺梧怙繧ゆｽ弱＞COM縺ｪ繧・縲∵ｶ郁ｲｻ・ｰ・･縺・00譛ｪ貅縺ｪ繧・縲√◎縺・〒縺ｪ縺代ｌ縺ｰ2
TFLAG:REACT・﨑・= GET_COMEFFORT(TRAINNAME:SELECTCOM)

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;REACT・・･倥↓繧医ｋ蠢ｫSOURCE遲雅ｳｴ・・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL REACT_TYPE_CHECK

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;螟画焚謨ｴ逅・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL SOURCE_CHECK_DEBUG("SOURCE.ERB螟・, 1)

;・俯・・・共繝ｻ・呷菩メ・､縺ｮ繝ｪ繧ｻ繝・ヨ
CVARSET TCVAR, 50, 0
CVARSET TCVAR, 51, 0

TFLAG:・・嚮・溢矯 = 0

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・・哩・吶↓繧医ｋ・ｰ・･豸郁ｲｻ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALLF COMABLE_CONT(TRAINNAME:SELECTCOM, 1)
DOWNBASE:MASTER:・ｰ・･ += COM_VITALITY(, TRAINNAME:SELECTCOM)
CALL SOURCE_CHECK_DEBUG("・・尖劇・・哩・・)

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;驕・ｻｶ・ｹ嵂壱共・・川梵嵂雅徐縺ｮ螳溯｡・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
RESULT = 0
;・・川梵嵂雅徐縺護｣・尖劇・√・嵂雅徐縺ｫ繧医▲縺ｦ蟾ｦ蜿ｳ縺輔ｌ繧句ｴ蜷医・蜃ｦ逅・
CALL ACTION_APPLY2
SIF RESULT
;OriginalString : 
	PRINTW

;謌ｻ繧翫′1縺ｧ縺ｪ縺代ｌ縺ｰ蜻ｼ縺ｶ
IF RESULT != 1
	;@ACTION_APPLY2・・∝､悶・荳闊ｬ蜃ｦ逅・
	CALL REACTION_MESSAGE
;OriginalString : 
	PRINTW
ENDIF
CALL SOURCE_CHECK_DEBUG("・・川梵・緋ｰ嵂雅徐")

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;譛崎脈縺ｪ縺ｩ縺ｫ繧医ｋ・誤ｳ繧ｲ繝ｼ繧ｸ逋ｺ逕・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・誤ｳ縺檎匱逕溘＠縺ｦ蛻昴ａ縺ｦMAXBASE:MASTER:・誤ｳ縺檎畑諢上＆繧後ｋ
;・ｰ・ｨ縲・境・昴↓・・箕縺輔ｌ繧・
SIF BASE:MASTER:・誤ｳ > MAXBASE:MASTER:・誤ｳ
	MAXBASE:MASTER:・誤ｳ = 10000 - TALENT:MASTER:・ｰ・ｨ * 5000 + TALENT:MASTER:・ｫ・・* 5000

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・母ｳ・・・ｨ・懊・蜃ｦ逅・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・母ｳ・・・ｨ・應ｸｭ縺ｯ髢｢騾｣SOURCE縺ｫ繝懊・繝翫せ縺悟・繧・
IF TFLAG:・母ｳ・・嵓誤椈・ｸ > 0
	TIMES SOURCE:MASTER:・奝ｵ , 1.25
	TIMES SOURCE:MASTER:・ｬ・・, 1.25
	TIMES SOURCE:MASTER:孖ｸ・ｼ・ｰ・・, 1.15
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・･・舌↓繧医ｋ荳贋ｸ九・蜃ｦ逅・ｼ亥燕蜊奇ｼ・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・･0縺ｧ蠢ｫ諢溘↓繝懊・繝翫せ
IF BASE:MASTER:・ｰ・･ <= 0
	TIMES SOURCE:MASTER:・鯉ｼ｣, 1.25
	TIMES SOURCE:MASTER:・鯉ｼｶ, 1.25
	TIMES SOURCE:MASTER:・鯉ｼ｡, 1.25
	TIMES SOURCE:MASTER:・鯉ｼ｢, 1.25
ENDIF

IF BASE:・ｰ・･ <= 0
	TIMES SOURCE:・鯉ｼ｣, 1.25
	TIMES SOURCE:・鯉ｼｶ, 1.25
	TIMES SOURCE:・鯉ｼ｡, 1.25
	TIMES SOURCE:・鯉ｼ｢, 1.25
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;蠢ｫ諢溘・繧ｽ繝ｼ繧ｹ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・阪・繝ｼ繝翫せ
;・ｰ・肴焚縺・縺壹▽蠅励∴縺ｦ縺・￥
;蜈・・蛟阪・↓蠅励∴縺ｦ縺溘￠縺ｩ縲∫洒譛滓ｱｺ謌ｦ縺ｫ謖√■霎ｼ縺ｾ繧後※繧る擇逋ｽ縺上↑縺・→諤昴▲縺溘・縺ｧ@縺薙ｌ縺ｿ
IF TFLAG:ACT == TFLAG:・БCT
	TFLAG:・呷攵嵂雅徐・ｴ・溢侃 += 1
ELSE
	TFLAG:・呷攵嵂雅徐・ｴ・溢侃 = 1
ENDIF
;・溢慕畑譁・ｭ怜・蛻晄悄蛹・
VARSET STR, "", 1030, 1038

;蠢ｫ諢溽ｳｻ繧ｽ繝ｼ繧ｹ繧剃ｹ礼ｮ励☆繧玖｣・ｙ繧｢繧､繝・Β繧貞他縺ｳ蜃ｺ縺・
CALL EQUIP_CHECK2

;SOURCE險育ｮ・
SIF SOURCE:MASTER:・鯉ｼ｣ + SOURCE:MASTER:・鯉ｼｶ + SOURCE:MASTER:・鯉ｼ｡ + SOURCE:MASTER:・鯉ｼ｢ > 0
	CALL CALC_SOURCE00
CALL SOURCE_CHECK_DEBUG("SOURCE00")

SIF SOURCE:・鯉ｼ｣ + SOURCE:・鯉ｼｶ + SOURCE:・鯉ｼ｡ + SOURCE:・鯉ｼ｢ > 0
	CALL CALC_SOURCE40
CALL SOURCE_CHECK_DEBUG("SOURCE40")

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;陦檎ぜ繝ｻ邊ｾ逾槭・蜿榊ｿ懊・繧ｽ繝ｼ繧ｹ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
FOR LOCAL, 10, 40
	;SOURCE險育ｮ・
	IF SOURCE:MASTER:LOCAL > 0
		CALLFORM CALC_SOURCE{LOCAL}
		CALL SOURCE_CHECK_DEBUG(@"SOURCE{LOCAL}")
	ENDIF
NEXT

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・俯ｳｴ・輔→縺・≧蜷阪・繧ｵ繝懊ｊ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・倥′・・川梵縺ｫ蜊泌鴨縺吶ｋ縺ｨ縲・｣・尖劇・√・蜈ｨUP縺・.5蛟阪↓縺ｪ繧・
IF TFLAG:・ｰ・們攪・ｩ・ｨ == 1
	FOR LOCAL, 0, 14
		TIMES CUP:MASTER:LOCAL, 1.50
	NEXT
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・√・蜿榊ｿ懊↓繧医ｋ螟牙虚・域怙蛻昴・縺薙ｌ縺後↑縺九▲縺溘′繧医ｊ豁｣縺励￥・・尖劇・√・陦檎ぜ繧貞渚蠢懊☆繧九◆繧√ｄ繧蠕励↑縺剰ｿｽ蜉縺励∪嵂壱共・・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・語ｰ川揆 ・幗符・､・ｸ・､/・溢乱 ・ｴ!
IF IS_NOWCOMNAME("・語ｰ川揆 ・幗符・､・ｸ・､/・溢乱 ・ｴ!/・・醐紛・假ｼ・)
	TIMES CUP:MASTER:・ｵ・・, 1.10
	TIMES CUP:MASTER:・溢ｾ・, 0.50
	TIMES CUP:MASTER:・ｵ・ｸ , 0.25
;・・Η﨑俾ｲ・・瀧況﨑罹共/・・ｷｹ・・愍・・﨑罹共
ELSEIF IS_NOWCOMNAME("・・Η﨑俾ｲ・・瀧況﨑罹共/・・ｷｹ・・愍・・﨑罹共")
	TIMES CUP:MASTER:・倆墳 , 0.80
	TIMES CUP:MASTER:・溢ｾ・, 0.60
	TIMES CUP:MASTER:・ｵ・ｸ , 0.20
;・・菩揆 ・ｴ・・﨑罹共/・・﨑俯糖﨑俾ｲ・﨑ｴ/・ｰ・・｢苦ｲ・﨑ｴ
ELSEIF IS_NOWCOMNAME("・・菩揆 ・ｴ・・﨑罹共/・・﨑俯糖﨑俾ｲ・﨑ｴ/・ｰ・・・躯共!/・ｰ・・｢苦ｲ・﨑ｴ")
	TIMES CUP:MASTER:・ｵ尞ｬ , 0.50
	TIMES CUP:MASTER:・ｵ・・, 1.25
	TIMES CUP:MASTER:・溢ｾ・, 0.20
	TIMES CUP:MASTER:・ｵ・ｸ , 0.05
	TFLAG:嶸ｸ・尖巡・・+= 1
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;逶ｸ諤ｧ縺ｫ繧医ｋ荳贋ｸ九・蜃ｦ逅・・ｸ・ｬ嶸・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;R = NO:PLAYER
;IF RELATION:R != 0
;	PRINTFORML ・懃嶌諤ｧ{RELATION:R/100}.{RELATION:R%100}蛟搾ｼ・
;ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・川梵縺ｮ・ｴ・･/・ｰ・･霑ｽ蜉豸郁ｲｻ・域怙蛻昴・繧ｽ繝ｼ繧ｹ縺縺代〒縺薙ｌ繧定ｧ｣豎ｺ嵂壱共縺九▲縺溘′縺・∪縺剰｡ｨ迴ｾ縺ｧ縺阪∪縺帙ｓ縺ｧ嵂壱共窶ｦ・・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;ACT・・･・縺ｾ縺溘・ <ACT>

;巐醐剩/<・､・・
IF TFLAG:ACT・・･・== 0 || IS_NOWACTNAME("・､・・)
	DOWNBASE:・ｰ・･ += 25
;・・ｴ
ELSEIF TFLAG:ACT・・･・== 1
	DOWNBASE:・ｴ・･ += 30
	DOWNBASE:・ｰ・･ += 50
;・・ｵｬ
ELSEIF TFLAG:ACT・・･・== 2
	DOWNBASE:・ｴ・･ += 40
	DOWNBASE:・ｰ・･ += 35
;・ｱ・・
ELSEIF TFLAG:ACT・・･・== 3
	DOWNBASE:・ｴ・･ += 60
	DOWNBASE:・ｰ・･ += 50
;・們ｹ・
ELSEIF TFLAG:ACT・・･・== 4
	;<・川怱・ｼ・・
	SIF IS_NOWACTNAME("・川怱・ｼ・・)
		DOWNBASE:・ｰ・･ += 40
	;<・們ｹ倆伯・溢擽>/<・ｼ・ｸ嵓誤溢擽>
	SIF IS_NOWACTNAME("・們ｹ倆伯・溢擽/・ｼ・ｸ嵓誤溢擽")
		DOWNBASE:・ｴ・･ += 40
	DOWNBASE:・ｴ・･ += 15
	DOWNBASE:・ｰ・･ += 40
;・餓ぎ
ELSEIF TFLAG:ACT・・･・== 5
	;<・ｴ・ｼ・溢ｹ們丶>
	SIF IS_NOWACTNAME("・ｴ・ｼ・溢ｹ們丶")
		DOWNBASE:・ｰ・･ += 40
	DOWNBASE:・ｴ・･ += 5
	DOWNBASE:・ｰ・･ += 30
;・﨑・<・､・・
ELSEIF TFLAG:ACT・・･・== 6 && !IS_NOWACTNAME("・､・・)
	DOWNBASE:・ｴ・･ += 50
	DOWNBASE:・ｰ・･ += 15
;・ｴ・・<・ｩ・倆伯・溢擽>
ELSEIF TFLAG:ACT・・･・== 7 && !IS_NOWACTNAME("・ｩ・倆伯・溢擽")
	DOWNBASE:・ｴ・･ += 35
	DOWNBASE:・ｰ・･ += 60
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｰ・･・舌↓繧医ｋ荳贋ｸ九・蜃ｦ逅・ｼ亥ｾ悟濠・・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・・ｸｰ・･0譎ゅ∝柑譫懊↓繝懊・繝翫せ
IF BASE:MASTER:・ｰ・･ <= 0
	TIMES CUP:MASTER:・菩・, 1.40
	TIMES CUP:MASTER:・ｵ尞ｬ , 1.20
	TIMES CUP:MASTER:・倆墳 , 0.60
	TIMES CUP:MASTER:・溢ｾ・, 0.80
ENDIF

LOCAL = DOWNBASE:MASTER:・ｰ・･ - BASE:MASTER:・ｰ・･
;・﨑ｭ・壱冠縺ｪ繧・
IF TFLAG:・﨑ｭ・壱冠
	;・ｰ・･縺ｯ貂帙ｉ縺壹↓・ｴ・･縺ｫ縺ｾ繧上＆繧後ｋ
	DOWNBASE:MASTER:・ｴ・･ += DOWNBASE:MASTER:・ｰ・･
	DOWNBASE:MASTER:・ｰ・･ = 0
;・ｰ・･縺瑚ｲ縺ｫ縺ｪ繧区ｸ帛ｰ鷹㍼縺ｪ繧・
ELSEIF LOCAL > 0
	;・ｰ・･貂帛ｰ鷹㍼縺ｮ1/4縺護ｲｴ・･縺ｫ縺ｾ繧上＆繧後・擽・ｱ繧よｸ帛ｰ代☆繧・
	DOWNBASE:MASTER:・ｴ・･ += LOCAL
	DOWNBASE:MASTER:・ｴ・ｱ += LOCAL / 2
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・尖劇・√・繧ｲ繝ｼ繧ｸ縺ｮ螟牙虚
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
BASE:MASTER:・ｴ・･ -= DOWNBASE:MASTER:・ｴ・･
BASE:MASTER:・ｰ・･ -= DOWNBASE:MASTER:・ｰ・･
BASE:MASTER:・ｬ・・-= DOWNBASE:MASTER:・ｬ・・
BASE:MASTER:・ｨ・ -= DOWNBASE:MASTER:・ｨ・
BASE:MASTER:・誤ｳ -= DOWNBASE:MASTER:・誤ｳ
;・ｴ・ｱ貂帛ｰ鷹㍼・ｴ・・
SIF TALENT:MASTER:・川懍峡
	TIMES DOWNBASE:MASTER:・ｴ・ｱ , 0.75
SIF TALENT:MASTER:・ｩ・呷・
	TIMES DOWNBASE:MASTER:・ｴ・ｱ , 1.25
BASE:MASTER:・ｴ・ｱ -= DOWNBASE:MASTER:・ｴ・ｱ

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・川梵縺ｮ繧ｲ繝ｼ繧ｸ縺ｮ螟牙虚
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;彧･・ｸ縺ｮ蜃ｦ逅・・｣・尖劇・√・蜿榊ｿ懊ｄ・嶹斐ｒ隕九○縺ｪ縺・→縺､縺ｾ繧峨↑縺・

;LOCAL:1 = 閧ｯ螳夂ｳｻ險・
LOCAL:1 = SOURCE:MASTER:・ｴ・・+ SOURCE:MASTER:・ｬ・ｱ + SOURCE:MASTER:・ｴ・ｽ
;LOCAL:2 = ・誤攷邉ｻ險・
LOCAL:2 = CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ + CUP:MASTER:・菩・
;LOCAL:3 = ・懍｢・ｳｻ險・
LOCAL:3 = CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ尞ｬ + CUP:MASTER:・ｵ・・+ CUP:MASTER:・奝ｵ + CUP:MASTER:・們・
;LOCAL:4 = 謚ｵ謚礼ｳｻ險・
LOCAL:4 = CUP:MASTER:・倆墳 * 2 + CUP:MASTER:・溢ｾ・+ CUP:MASTER:・ｵ・ｸ
;LOCAL:5 = ・・川梵・誤攷邉ｻ險・	縺薙ｌ縺後≠縺｣縺ｦ繧り憶縺・ｰ励′嵂壱共縺ｮ縺ｧ霑ｽ蜉縺励※縺ｿ繧機/L
LOCAL:5 = CUP:・鯉ｼ｣ + CUP:・鯉ｼｶ + CUP:・鯉ｼ｡ + CUP:・鯉ｼ｢
;閧ｯ螳・・誤攷/・懍｢・ｳｻ險医・縺・★繧後°縺瑚ｦ丞ｮ壼､縺ｫ驕斐＠縺ｦ縺・ｌ縺ｰ彧･・ｸ蠅怜刈
;(・ｴ・・ｬ縺ｫ繝槭う繝翫せ縲・从・ｰ・ｬ縺ｫ繝励Λ繧ｹ・ｴ・・
LOCAL = MAX(LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:5)
BASE:彧･・ｸ += LINE_CALC(LOCAL, "300竊・0,1500竊・0,LIMIT/10・・0") + (TALENT:嶸ｸ・ｰ・ｬ - TALENT:・ｴ・・ｬ) * LINE_CALC(LOCAL, "300竊・,1500竊・0,LIMIT/5・・0")

;・ｼ・舌・・・川梵縺ｯ雋縺ｮ蜿榊ｿ懊↓縺・ｓ縺悶ｊ
;・ｼ・先凾縲∵慣謚礼ｳｻ險医′隕丞ｮ壼､縺ｫ驕斐＠縺ｦ縺・ｌ縺ｰ彧･・ｸ貂帛ｰ・
SIF TALENT:・ｼ・・
	BASE:彧･・ｸ -= LINE_CALC(LOCAL:4, "0竊・,1500竊・50,LIMIT/0・・50")

;閾ｪ辟ｶ・誤ｪｨ
;(彧･・ｸ縺・/3繧貞・繧九→・誤ｪｨ騾溷ｺｦ縺御ｸ九′繧・
;・・尖壱ｲｨ縺ｫ繧医ｋ・誤ｪｨ蜉騾溘ｒ繧ｪ繝溘ャ繝逸毎・､迚・
;縺薙ｌ讖滓｢ｰ逧・☆縺弱※縺ｲ縺ｩ縺・↑・・
IF BASE:彧･・ｸ > MAXBASE:彧･・ｸ / 3
	BASE:彧･・ｸ -= MAXBASE:彧･・ｸ * 20 / 200
ELSE
	BASE:彧･・ｸ -= MAXBASE:彧･・ｸ * 20 / 300
ENDIF

;彧･・ｸ繧・-MAXBASE縺ｮ遽・峇縺ｫ蜿弱ａ繧・
BASE:彧･・ｸ = LIMIT(BASE:彧･・ｸ, 0, MAXBASE:彧･・ｸ)

;彧･・ｸ菴惹ｸ九↓繧医ｋ・ｰ・･・誤ｪｨ
;(豢ｻ逋ｺ縺ｪ・ｱ・ｩ縺ｧ縺ゅｋ縺ｻ縺ｩ・ｰ・･・誤ｪｨ驥上・螟ｧ縺阪＞)
SIF BASE:彧･・ｸ < 200
	DOWNBASE:・ｰ・･ += (300 - BASE:彧･・ｸ) / (10 + TALENT:・ｴ・・ｬ * 3 - TALENT:嶸ｸ・ｰ・ｬ * 3 + TALENT:・川母ｲｰ・ｬ * 2 - TALENT:・菩・・・* 2)

;・溢｡ｰ﨑ｨ縺ｮ蜃ｦ逅・
;謚ｵ謚礼ｳｻ險医°繧雅ｳｴ・輔＠縺ｦ・溢｡ｰ﨑ｨ繧堤ｮ怜・
DOWNBASE:・溢｡ｰ﨑ｨ -= LIMIT(LOCAL:4 / 15, 20, 100) + (TALENT:・ｼ・・- TALENT:・・啄物) * LIMIT(LOCAL:4 / 75 + 5, 10, 25) + (TALENT:・ｴ・ｩ・・- TALENT:・護・復) * LIMIT(LOCAL:4 / 150, 2, 10)

;・・・・・ｴ・､/隕∵ｱゅｒ・ｰ・
;(REACT譎らｴ雉ｪ縺ｫ繧医▲縺ｦ霑ｽ蜉・ｴ・・
IF IS_COMGRONAME("・ｩ・罹･ｼ ・誤共")
	DOWNBASE:・溢｡ｰ﨑ｨ -= 25 - TALENT:・溢搆・ｨ・ｩ﨑・* 25 + TALENT:・ｬ・・ゎ搆 * 10 + TALENT:・壱糖 * 25 - TALENT:MASTER:・ｰ・ｨ * 5 - TALENT:MASTER:・溢・ * 10 + PALAM:MASTER:・倆墳 / 250
ELSEIF IS_COMGRONAME("・・ｴ・､")
	DOWNBASE:・溢｡ｰ﨑ｨ -= 50 + PALAM:MASTER:・倆墳 / 200 - TALENT:・・啄物 * 15 + TALENT:・ｼ・・* 20 + TALENT:嵓・攵・ｴ・罹・・・* 20 + MARK:・倆墳・・攤 * 2
ELSEIF IS_COMGRONAME("・ｰ・")
	DOWNBASE:・溢｡ｰ﨑ｨ -= 25 + PALAM:MASTER:・ｴ・ｵ / 200 - TALENT:・・啄物 * 25 + TALENT:・ｼ・・* 15 + TALENT:・溢搆・ｨ・ｩ﨑・* 5 + TALENT:嵓・攵・ｴ・罹・・・* 10 + MARK:・ｴ・ｵ・・攤
ENDIF

;・滝ｸｰ縺ｧ繝ｩ繝ｳ繝繝螟牙虚縲√％縺ｮ險ｭ螳壹↓雉帛酔縺ｧ縺阪↑縺・ｺｺ縺ｯ縺九↑繧翫＞繧九°繧ゅ＠繧後∪縺帙ｓ窶ｦ
SIF TALENT:・滝ｸｰ
	DOWNBASE:・溢｡ｰ﨑ｨ -= (10 - RAND:20) * (1 + RAND:10)

;・溢｡ｰ﨑ｨ譎ゅ・｣・尖劇・√′・懍｢・〒縺ゅｌ縺ｰ・護｡ｱ蠎ｦ縺ｫ蠢懊§縺ｦ・溢｡ｰ﨑ｨ貂幄｡ｰ
SIF DOWNBASE:・溢｡ｰ﨑ｨ > MAXBASE:・溢｡ｰ﨑ｨ / 3 && CUP:MASTER:・倆墳 < 10
	DOWNBASE:・溢｡ｰ﨑ｨ += BASE:・護｡ｱ / 20

;・・・譎ゅ・｣・仙ｼｷ蠎ｦ縺ｫ蠢懊§縺ｦ・溢｡ｰ﨑ｨ貂幄｡ｰ
IF TCVAR:・・・・嶹・== 6
	;・ｵ・罹ｳｴ・・
	LOCAL = CUP:MASTER:・ｵ・・* POWER(2, TALENT:・溢搆・ｨ・ｩ﨑・- TALENT:・ｬ・・ゎ搆 + 10) / 1024
	;・ｴ・ｵ・ｴ・・
	LOCAL += (CUP:MASTER:・ｴ・ｵ + MARK:・ｴ・ｵ・・攤 * 50) * POWER(2, TALENT:・肥ｧ・+ 10) / 1024
	DOWNBASE:・溢｡ｰ﨑ｨ += LOCAL
ENDIF

;BASE蛟､螟牙虚蜃ｦ逅・
BASE:・ｴ・･ -= DOWNBASE:・ｴ・･
BASE:・ｰ・･ -= DOWNBASE:・ｰ・･
BASE:・ｬ・・-= DOWNBASE:・ｬ・・
BASE:・ｨ・ -= DOWNBASE:・ｨ・
BASE:・誤ｳ -= DOWNBASE:・誤ｳ

;縺・ｉ縺・ｉ縺ｫ繧医ｋ・ｴ・ｱ・誤ｪｨ
;縺昴・蛻・□縺卓ｴ溢｡ｰ﨑ｨ貂幄｡ｰ
;・ｴ・ｱ0譎ゅ・縺昴・蜊雁・縺輔ｉ縺ｫ・溢｡ｰ縺､
IF BASE:・溢｡ｰ﨑ｨ > 700
	LOCAL = (BASE:・溢｡ｰ﨑ｨ - 500) / (5 + TALENT:・滝ｸｰ * RAND:3)
	IF BASE:・ｴ・ｱ > 0
		DOWNBASE:・ｴ・ｱ += LOCAL
		DOWNBASE:・溢｡ｰ﨑ｨ += LOCAL
	ELSE
		DOWNBASE:・溢｡ｰ﨑ｨ -= LOCAL / 2
	ENDIF
ENDIF
;BASE蛟､螟牙虚蜃ｦ逅・
BASE:・溢｡ｰ﨑ｨ -= DOWNBASE:・溢｡ｰ﨑ｨ
;・溢｡ｰ﨑ｨ繧・-MAXBASE縺ｮ遽・峇縺ｫ蜿弱ａ繧・
BASE:・溢｡ｰ﨑ｨ = LIMIT(BASE:・溢｡ｰ﨑ｨ, 0, MAXBASE:・溢｡ｰ﨑ｨ)

;・ｴ・ｱ貂帛ｰ鷹㍼縺檎ｴ雉ｪ縺ｫ繧医▲縺ｦ・ｴ・輔＆繧後ｋ
SIF TALENT:・川懍峡
	TIMES DOWNBASE:・ｴ・ｱ , 0.75
SIF TALENT:・ｩ・呷・
	TIMES DOWNBASE:・ｴ・ｱ , 1.25
;BASE蛟､螟牙虚蜃ｦ逅・
BASE:・ｴ・ｱ -= DOWNBASE:・ｴ・ｱ

;BASE蛟､螟牙虚蜃ｦ逅・
BASE:・護｡ｱ -= DOWNBASE:・護｡ｱ

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;繧ｳ繝槭Φ繝牙ｮ溯｡梧凾縺ｮ・ｬ・・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL KOJO_REACT

IF TCVAR:MASTER:REACT・川┷・嶹・
	PRINTL 
	CALL POSE_SHOW
	TCVAR:MASTER:REACT・川┷・嶹・= 0
ENDIF
DRAWLINE

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・溢墓凾縺ｮ・ｬ・・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
PRINTL 
FLAG:・・ｸ・懍牟 = 0
RESULT = 0
;繝薙ャ繝亥柱縺ｧ縺ｮ謖・ｮ壹′荳榊・蜷医・貂ｩ蠎翫↓縺ｪ縺｣縺ｦ繧区ｰ鈴・縺後≠縺｣縺溘・縺ｧ逵∫払縺励※縺ｿ繧機/L
;・ｵ・卓悖・・ｰ嵓誤溢擽譎ゅ・蜻ｼ縺ｳ蜃ｺ縺励・隕丞宛縺吶ｋ //1.1series縺ｾ縺ｧ縺ｮ證ｫ螳壼・鄂ｮ縲√→縺・≧縺薙→縺ｧ@/L
SIF !IS_NOWACTNAME("・ｵ・卓悖・・ｰ嵓誤溢擽") && (MASTER_EX() || TARGET_EX())	;MASTER_EX(79) || TARGET_EX(15)
	CALL KOJO_EVENT(20)
IF RESULT
	PRINTL 
	DRAWLINE
ENDIF

RESULT = 0
SIF MASTER_EX(4) || TARGET_EX(4)
	CALL KOJO_EVENT_ASSI(20)

RESULT = 0
IF MASTER_EX(8) || TARGET_EX(8)
	ASSI = ASSI:2
	CALL KOJO_EVENT_ASSI(20)
	ASSI = ASSI:1
ENDIF

;RESULT = 0
;IF MASTER_EX(16) || TARGET_EX(16)
;	ASSI = ASSI:3
;	CALL KOJO_EVENT_ASSI(20)
;	ASSI = ASSI:1 < 0 ? ASSI:3 # ASSI:1
;ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・溢暮未騾｣縺ｮ陦ｨ遉ｺ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL PRINT_SOURCE00_40

;・們｡ｴ・・・險育ｮ・
VARSET LOCAL
;・ｬ・賓r・｣・溢輔→莉厄ｼ鍋ｨｮ・溢輔・蜥後〒險育ｮ・
LOCAL = (MASTER_EX(, 1) || MASTER_EX(, 12)) + MASTER_EX(, 3) + MASTER_EX(, 3) + MASTER_EX(, 4)
;・剃ｹ励・・托ｼ仙阪ｒ蝓ｺ遉主､縺ｨ縺吶ｋ
LOCAL = LOCAL*LOCAL*10
;・ｩ・ｨ繝ｻ・・悛縺ｧ繧・10縺吶ｋ
LOCAL += (MASTER_EX(, 11) + MASTER_EX(, 13)) * 10
;・ｼ・ｸ・倥↓・壱ざ・ｬ・輔＆繧後※縺・ｌ縺ｰ20繧貞刈縺医ｋ
LOCAL += TE_PLAYER(1) == 4 && TE_PLAYER(0) == 1 ? 20 # 0

;・ｬ・賓r・｣・溢輔→莉厄ｼ鍋ｨｮ・溢輔・蜥後〒險育ｮ・
LOCAL:1 = (TARGET_EX(, 1) || TARGET_EX(, 12)) + TARGET_EX(, 3) + TARGET_EX(, 3) + TARGET_EX(, 4)
;・剃ｹ励・・托ｼ仙阪ｒ蝓ｺ遉主､縺ｨ縺吶ｋ
LOCAL:1 = LOCAL:1*LOCAL:1*10
;・・悛縺ｧ繧・10縺吶ｋ
LOCAL:1 += TARGET_EX(, 11) * 10
;・ｸ・医↓・壱ざ・ｬ・輔＆繧後※縺・ｌ縺ｰ20繧貞刈縺医ｋ
LOCAL:1 += ME_PLAYER(1) == 4 && ME_PLAYER(0) == 2 ? 20 # 0

;・們｡ｴ・・ｳ嶹・
CALL ADD_DEPEND(LOCAL:1, LOCAL)


;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・ｴ・們牟・千ｵゆｺ・
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;IF (SUMARRAY(NOWEX, 0, 4) || NOWEX:MASTER:・ｬ・・ && TEQUIP:・・ｴ・們牟・・肥､・== 1
IF (NOWEX:MASTER:・｣・溢・|| NOWEX:MASTER:・ｶ・溢・|| NOWEX:MASTER:・｡・溢・|| NOWEX:MASTER:・｢・溢・|| NOWEX:MASTER:・ｬ・・ && TEQUIP:・・ｴ・們牟・・肥､・== 1
	TEQUIP:・・ｴ・們牟・・肥､・= 0
	TFLAG:・・ｴ・們牟・専ｲｽ・ｼ = TFLAG:・ｽ・ｼ・懋ｰ・
	PRINTFORMW %CALLNAME:TARGET%・(・・ %CALLNAME:MASTER%(・・・ｼ ・溢・・懍ｼ・・護｡ｱ﨑・・・・呱共窶ｦ
ENDIF
IF TFLAG:・・ｴ・們牟・専ｲｽ・ｼ && (TFLAG:・ｽ・ｼ・懋ｰ・- TFLAG:・・ｴ・們牟・専ｲｽ・ｼ) > 15 && TEQUIP:・・ｴ・們牟・・肥､・
	TEQUIP:・・ｴ・們牟・・肥､・= 0
	TFLAG:・・ｴ・們牟・専ｲｽ・ｼ = TFLAG:・ｽ・ｼ・懋ｰ・
	PRINTFORMW %CALLNAME:TARGET%・(・・ %CALLNAME:MASTER%(・・・ｼ ・ｰ・､・罷株 ・護｡ｱ﨑・・・・呱共窶ｦ
ENDIF

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・・攤・ｨ・昴・繝√ぉ繝・け縲√◎縺励※・・攤縺ｫ繧医ｋ邏雉ｪ螟牙虚
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL MARK_CHECK_SOURCE

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;・ｽ嵭倥・繝√ぉ繝・け縲・｣・舌た繝ｼ繧ｹ縺ｮ陦ｨ遉ｺ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
CALL EXP_CHECK
FOR LOCAL, 0, 50
	PRINTFORM \@ SOURCE:MASTER:LOCAL > 0 ? %SOURCENAME:LOCAL%({SOURCE:MASTER:LOCAL}) # \@
NEXT
FOR LOCAL, 0, 50
	PRINTFORM \@ SOURCE:LOCAL > 0 ? ・・川梵%SOURCENAME:LOCAL%({SOURCE:LOCAL}) # \@
NEXT
PRINTL 

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;謨ｰ蛟､螟牙虚縺ｮ陦ｨ遉ｺ
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;逶ｸ諤ｧ
;SIF RELATION:(NO:PLAYER) && RELATION:(NO:PLAYER) != 100
;	PRINTFORML ・懃嶌諤ｧ%TOSTR(RELATION:(NO:PLAYER), "0\\.00")%蛟搾ｼ・

;・ｴ・･繝ｻ・ｰ・･縺ｮ貂帛ｰ・
PRINTFORML ・ｴ・･-{DOWNBASE:MASTER:・ｴ・･} ・ｰ・･-{DOWNBASE:MASTER:・ｰ・･} ・ｴ・ｱ-{DOWNBASE:MASTER:・ｴ・ｱ}
PRINTFORML ・・CALLNAME:TARGET%・餓ｲｴ・･-{DOWNBASE:・ｴ・･} ・ｰ・･-{DOWNBASE:・ｰ・･}

;CUP:MASTER:・奝ｵ縺ｮ1/30繧庭ｧ壱･縺ｨ縺励※・ｨ・・
TFLAG:・ｨ・晤ｧ壱･ += CUP:MASTER:・奝ｵ / 30

;・ｴ・･繝ｻ・ｰ・･・舌・半尞舌・繝｡繝・そ繝ｼ繧ｸ繧ゅ≠繧九・縺ｧ縺薙ｌ縺ｯ﨑・囈縺ｪ縺・→諤昴＞縺ｾ縺・
;SIF BASE:MASTER:・ｴ・･ <= 0
;	PRINTL 笘・ｲｴ・･・絶・
;SIF BASE:MASTER:・ｰ・･ <= 0
;	PRINTL 笘・ｸｰ・･・絶・
;SIF BASE:・ｴ・･ <= 0
;	PRINTL 笘・ｲｴ・･・絶・・溢｣・川梵・・
;SIF BASE:・ｰ・･ <= 0
;	PRINTL 笘・ｸｰ・･・絶・・溢｣・川梵・・

;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏
;閭ｽ蜉帑ｸ頑・縺ｮ蜻ｼ縺ｳ蜃ｺ縺・
;縺薙％縺ｧ縺ｯ螟ｧ縺ｾ縺九↑譚｡莉ｶ縺ｧ邨槭ｊ縲∬ｩｳ邏ｰ縺ｪ蛻､螳壹・ABLUP_**髢｢謨ｰ縺ｧ陦後≧
;笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏笏

;・・尖劇・∬・蜉・

;・懍｢・
;・ｴ・ｵ + ・ｵ・懊√∪縺溘・・ｵ尞ｬ縺御ｸ頑・縺励※縺・ｋ譎・
;縺ｾ縺溘・｣・尖劇・√・蜿榊ｿ懊′ ・・ｴ・､/隕∵ｱゅ↓蠢懊§縺ｪ縺・縺ｧ縺ゅｌ縺ｰ蛻､螳壹＠縺ｪ縺・
SIF (CUP:MASTER:・ｴ・ｵ + CUP:MASTER:・ｵ・・> 0 || CUP:MASTER:・ｵ尞ｬ > 0) && TFLAG:REACT・・･・< 6
	CALL ABLUP_0M
;・簿ｧ・
;・菩穂ｸ頑・譎・
SIF CUP:MASTER:・菩・> 0
	CALL ABLUP_1M
;・ｰ・・
;・ｰ・川､大ｮｹ縺誤ｴ餓ぎ邉ｻ縺ｧ縺ゅｊ縲・｣・川梵縺悟ｿｫ諢溘ｒ蠕励◆譎・
SIF TFLAG:ACT・・･・== 5 && CUP:・鯉ｼ｣ + CUP:・鯉ｼｶ + CUP:・鯉ｼ｡ + CUP:・鯉ｼ｢ > 0
	CALL ABLUP_2M
;・ｸ・専ｰ・
;・・尖劇・√′蠢ｫ諢溘ｒ蠕励◆譎・
FOR LOCAL, 0, 4
	SIF CUP:MASTER:LOCAL > 0
		CALLFORM ABLUP_{3 + LOCAL}M
NEXT
;・餓ぎ・菩侠
;・ｰ・川､大ｮｹ縺誤ｴ餓ぎ邉ｻ/・ｱ・尖ｴ餓ぎ縺ｧ縺ゅｋ縺九・｣・川梵・ｽ・・､台ｽ謎ｽ阪′・ｰ・ｹ・・〒縺ゅｋ蝣ｴ蜷・
;縺ｪ縺翫°縺､・・尖劇・√′・・ｷｹ・・愍・懷ｾ薙＞縲∝ｿｫ諢・・菩募粋險医′1000遯∫ｴ
SIF (TFLAG:ACT・・･・== 5 || TFLAG:ACT・・･・== 10  || TEQUIP:・ｱ・川､・== 3 ) && IS_COMGRONAME("・・ｷｹ・・愍・・﨑罹共") && CUP:MASTER:・鯉ｼ｣ + CUP:MASTER:・鯉ｼｶ + CUP:MASTER:・鯉ｼ｡ + CUP:MASTER:・鯉ｼ｢ + CUP:MASTER:・菩・> 1000
	CALL ABLUP_7M
;・ｸ・懍ｦ・
;逞ｴ諠・ｸ頑・譎・
SIF CUP:MASTER:・們・> 0
	CALL ABLUP_8M
;・溢ｦ壱⊂
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ縺ｧ縺ｯ縺ｪ縺・
SIF TALENT:MASTER:・ｨ・・== 0 && TALENT:・ｨ・・== 0
	CALL ABLUP_9M
;・｢・ｬ・ｼ
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ
SIF TALENT:MASTER:・ｨ・・&& TALENT:・ｨ・・
	CALL ABLUP_10M
;・溢｡ｰ・ｼ
;・奝ｵ + ・溢ｾ御ｸ頑・驥上′・ｵ・ｸ荳頑・驥上ｒ荳雁屓繧・
SIF CUP:MASTER:・奝ｵ + CUP:MASTER:・溢ｾ・> CUP:MASTER:・ｵ・ｸ
	CALL ABLUP_11M
;・川怱・瀧遵
;・・尖劇・・梵・・､・
SIF GETBIT(TEQUIP:・川怱・・ 0)
	CALL ABLUP_12M
;・菩複・瀧遵
;・・川梵縺ｾ縺溘・・・尖劇・√′・ｬ・・
SIF NOWEX:・ｬ・・|| NOWEX:MASTER:・ｬ・・
	CALL ABLUP_13M
;・溢ｦ溢､瀧遵
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ縺ｧ縺ｯ縺ｪ縺・
SIF TALENT:MASTER:・ｨ・・== 0 && TALENT:・ｨ・・== 0
	CALL ABLUP_14M
;・奝ｵ・瀧遵
;・奝ｵ荳頑・驥上′・ｵ・ｸ荳頑・驥上ｒ荳雁屓繧・
SIF CUP:MASTER:・奝ｵ > CUP:MASTER:・ｵ・ｸ
	CALL ABLUP_15M
;・ｬ・作､瀧遵
;・・尖劇・√′菴輔ｉ縺九・・ｬ・阪ｒ蜿励￠繧・
SIF TEQUIP:・ｧ・・|| TEQUIP:・一ｰ・ｬ・・|| TEQUIP:・ｼ・懋ｷｸ || TEQUIP:・ｼ・・ｪｩ・・
	CALL ABLUP_16M

;・・川梵閭ｽ蜉・

;・簿ｧ・
;・・川梵縺悟ｿｫ諢溘ｒ蠕励◆譎・
SIF CUP:・鯉ｼ｣ + CUP:・鯉ｼｶ + CUP:・鯉ｼ｡ + CUP:・鯉ｼ｢ > 0
	CALL ABLUP_1T
;・ｰ・・
;・・尖劇・・溢墓凾
SIF NOWEX:MASTER:・｣・溢・+ NOWEX:MASTER:・ｶ・溢・+ NOWEX:MASTER:・｡・溢・+ NOWEX:MASTER:・｢・溢・> 0
	CALL ABLUP_2T
;・ｸ・専ｰ・
;・・川梵縺悟ｿｫ諢溘ｒ蠕励◆譎・
FOR LOCAL, 0, 4
	SIF CUP:LOCAL > 0
		CALLFORM ABLUP_{3 + LOCAL}T
NEXT
;・餓ぎ・菩侠
;・ｰ・川､大ｮｹ縺護腹・ｴ/・・ｵｬ邉ｻ
SIF TFLAG:ACT・・･・== 1 || TFLAG:ACT・・･・== 2
	CALL ABLUP_7T
;・ｸ・懍ｦ・
;迴ｾ蝨ｨ譚｡莉ｶ縺ｪ縺・
;SIF ???
	;CALL ABLUP_8T
;・溢ｦ壱⊂
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ縺ｧ縺ｯ縺ｪ縺・
SIF TALENT:MASTER:・ｨ・・== 0 && TALENT:・ｨ・・== 0
	CALL ABLUP_9T
;・｢・ｬ・ｼ
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ
SIF TALENT:MASTER:・ｨ・・&& TALENT:・ｨ・・
	CALL ABLUP_10T
;・菩複・瀧遵
;・・川梵縺ｾ縺溘・・・尖劇・√′・ｬ・・
SIF NOWEX:・ｬ・・|| NOWEX:MASTER:・ｬ・・
	CALL ABLUP_13T
;・溢ｦ溢､瀧遵
;・・尖劇・√・｣・川梵縺後→繧ゅ↓逕ｷ縺ｧ縺ｯ縺ｪ縺・
SIF TALENT:MASTER:・ｨ・・== 0 && TALENT:・ｨ・・== 0
	CALL ABLUP_14T
;・・千ｳｻ蛻玲橿閭ｽ
;蟇ｾ蠢懊☆繧駆｣・千ｳｻ蛻励↓縺､縺・※蛻､螳・
SIF 0 <= TFLAG:ACT・・･・&& TFLAG:ACT・・･・<= 8
	CALLFORM ABLUP_{20 + TFLAG:ACT・・･・T
;・ｱ・・
;・ｰ・川､大ｮｹ縺護┳・尖ｴ餓ぎ邉ｻ
SIF TFLAG:ACT・・･・== 10
	CALL ABLUP_23T

@SOURCE_CHECK_DEBUG(ARGS, ARG)
RETURN 0
SIF ARG
	VARSET LOCAL
NOSKIP
	PRINTFORML %ARGS% {DOWNBASE:MASTER:・ｰ・･}(+{DOWNBASE:MASTER:・ｰ・･ - LOCAL})
ENDNOSKIP
LOCAL = DOWNBASE:MASTER:・ｰ・･
RETURN 0
>>>>>>> d29239f180aad384a1e39d65cf6a8a750783a09d
